var YXComponent=function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){i(7),i(24);var a=i(25),n=i(44),o=i(43),s=i(47),r=i(34),c=i(8);e.exports={fixedTool:a,remindDialog:n,loginDialog:o,top:s,foot:r,activityDialog:c}},,,,,,,function(e,t){var i=window.navigator.userAgent;/windows|win32/i.test(i)?/Windows NT 5/.test(i)&&$('<style type="text/css">.yx-cp-base{font-family: tahoma,sans-serif;}.yx-cp-base input{font-family: tahoma,sans-serif;}.yx-cp-base textarea{font-family: tahoma,sans-serif;}</style>').appendTo("head"):/macintosh/i.test(i)&&$('<style type="text/css">.yx-cp-base{font-family: "Heiti SC","Lucida Grande","Hiragino Sans GB","Hiragino Sans GB W3",verdana;}.yx-cp-base input{font-family: "Heiti SC","Lucida Grande","Hiragino Sans GB","Hiragino Sans GB W3",verdana;}.yx-cp-base textarea{font-family: "Heiti SC","Lucida Grande","Hiragino Sans GB","Hiragino Sans GB W3",verdana;}</style>').appendTo("head")},function(e,t,i){var a=i(9),n=i(11),o=i(13),s=i(19),r=i(20),c=i(21),l=i(17),d=i(22);i(23),n($);var p='<div class="yx-m-couponDialog j-yx-panel1">	  <div class="yx-couponDialog-headBanner"></div>	  <div class="yx-couponDialog-receiveStatus">你怎么知道</div>	  <div class="yx-couponDialog-couponInfo">有一份<span class="j-yx-keyword yx-f-txt-red"></span>现金券在等你？</div>	  <div class="yx-w-button yx-w-button-primary yx-couponDialog-button j-yx-getCouponButton">立即领取</div>	  <div class="yx-couponDialog-tip">提醒：一定要记得登录领取哦，不然福利就消失啦~</div>	</div>',u='<div class="yx-m-couponDialog yx-received yx-f-hide j-yx-panel2">	  <div class="yx-couponDialog-headBanner"></div>	  <div class="yx-couponDialog-receiveStatus"><span class="j-yx-receiveStatus"></span></div>	  <div class="yx-couponDialog-couponInfo"><span class="j-yx-itemName" style="font-size:18px"></span><span class="j-yx-amount yx-f-txt-red" style="font-size:18px"></span><span class="j-yx-amountSuffix" style="font-size:18px"></span>！</div>	  <div class="yx-couponDialog-getInfo">优惠券已放入你的帐号，请及时使用</div>	  <a class="yx-couponDialog-button yx-w-button yx-w-button-primary j-yx-useCouponLink" href="javascript:;">马上去使用</a>	  <div class="yx-couponDialog-tip">温馨提示：<br/>1、优惠券仅限<span class="yx-f-txt-red">2017年11月1日-11月6日</span>有效！<br/>2、限时购、三石福利价等特殊商品不可使用优惠券</div>	</div>',h="<div>	      "+p+"	      "+u+"	</div>",f=a.extend({__init:function(e){this.__supr(e),this.searchEggType=l.getCookie("yx-colorfulEggV2-type"),this.searchEggWord=unescape(l.getCookie("yx-colorfulEggV2-keyword")||""),this.searchEggWordMd5=l.getCookie("yx-colorfulEggV2-keywordMd5"),this.searchUrl=unescape(l.getCookie("yx-colorfulEggV2-url")||"");try{if(decodeURIComponent(this.searchUrl)!==decodeURIComponent(location.href))return}catch(t){if(this.searchUrl!=location.href)return}1!=this.searchEggType&&2!=this.searchEggType||(window.isNeedLogin?s.checklogin().then(function(){this.__openDialog()}.bind(this)):this.__openDialog())},__openDialog:function(){if(1==this.searchEggType)this.__body=$(h).showDialog2({clsName:"yx-m-activityCouponPop",onbeforeclose:function(){this.__clearCookieInfo()}.bind(this)}),this.__initElement(),this.__initData(),this.__initEvent();else if(2==this.searchEggType){if(window.$global&&"test"==window.$global.environment)return;var e=document.createElement("iframe");e.id="j-yx-activityIframe",e.className="yx-activityIframe",e.src="/act/pub/up5kPqSHby.html",$(document.body).append(e)}},__initElement:function(){this.__panel1=this.__body.find(".j-yx-panel1"),this.__keyword=this.__body.find(".j-yx-keyword"),this.__getCouponButton=this.__body.find(".j-yx-getCouponButton"),this.__panel2=this.__body.find(".j-yx-panel2"),this.__useCouponLink=this.__body.find(".j-yx-useCouponLink"),this.__itemName=this.__body.find(".j-yx-itemName"),this.__amount=this.__body.find(".j-yx-amount"),this.__amountSuffix=this.__body.find(".j-yx-amountSuffix"),this.__receiveStatus=this.__body.find(".j-yx-receiveStatus")},__initData:function(){this.__keyword.text(this.searchEggWord)},__initEvent:function(){this.__getCouponButton.bind("click.couponDialog",$.proxy(this.__receive,this))},__close:function(){2==this.searchEggType&&($("#j-yx-activityIframe").hide(),this.__clearCookieInfo())},__clearCookieInfo:function(){l.setCookie("yx-colorfulEggV2-keyword",""),l.setCookie("yx-colorfulEggV2-type",""),l.setCookie("yx-colorfulEggV2-keywordMd5",""),l.setCookie("yx-colorfulEggV2-url","")},__receive:function(){window.YXStat&&window.YXStat.q&&window.YXStat.q.push(["track_click",{event_name:"click_searchresult_searchcoupon1111_getcoupon"}]),r().done(function(){this.__clearCookieInfo(),o.receive({searchEggWordMd5:this.searchEggWordMd5}).done(function(e){window.YXStat&&window.YXStat.q&&window.YXStat.q.push(["track_view",{event_name:"show_searchresult_searchcoupon1111_result",parameters:{result:e.data.hasReceived?2:1}}]),e.data.hasReceived?(this.__receiveStatus.text("你已获得过"),c.notify("你已领取过")):(this.__receiveStatus.text("恭喜你获得"),c.notify("领取成功")),this.__panel1.addClass("yx-f-hide"),this.__panel2.removeClass("yx-f-hide"),this.__itemName.text(e.data.itemName||""),this.__amount.text(e.data.amount||""),this.__amountSuffix.text(e.data.amountSuffix||""),this.__useCouponLink.bind("click",function(){window.YXStat&&window.YXStat.q&&window.YXStat.q.push(["track_click",{event_name:"click_searchresult_searchcoupon1111_gouse",topage:e.data.linkUrl}]),window.location.href=e.data.linkUrl})}.bind(this)).fail(function(e,t){c.notify(t||"领取失败")})}.bind(this))}}),m=location.pathname,y="",g="";/^\/act/.test(m)?y="activity":/^\/search/.test(m)&&(y="main"),y&&(g=new f({currentPage:y}));var x={open:function(){g=new f({currentPage:y})},closeIframe:function(){g&&g.__close()}};e.exports=d(x)},function(e,t,i){var a=i(10),n=[].slice,o=a({__init:function(e){this.__data={},e=e||{},e.events&&this._$on(e.events),this.__data=e.data||{},this.__config&&this.__config(this.__data)},__config:function(e){},_$on:function(e,t){if("object"==typeof e)for(var i in e)this._$on(i,e[i]);else{var a=this,n=a._handles||(a._handles={}),o=n[e]||(n[e]=[]);o.push(t)}return this},_$off:function(e,t){var i=this;if(i._handles){e||(this._handles={});var a,n=i._handles;if(a=n[e]){if(!t)return n[e]=[],i;for(var o=0,s=a.length;s>o;o++)if(t===a[o])return a.splice(o,1),i}return i}},_$emit:function(e){var t,i,a,o=this,s=o._handles;if(e){if(i=n.call(arguments,1),a=e,!s)return o;if(t=s[a.slice(1)])for(var r=0,c=t.length;c>r;r++)t[r].apply(o,i);if(!(t=s[a]))return o;for(var l=0,c=t.length;c>l;l++)t[l].apply(o,i);return o}}});e.exports=o},function(e,t,i){var a,n;!function(o,s,r){a=r,n="function"==typeof a?a.call(t,i,t,e):a,!(void 0!==n&&(e.exports=n))}("klass",this,function(){function e(e){return n.call(t(e)?e:function(){},e,1)}function t(e){return typeof e===o}function i(e,t,i){return function(){var a=this.__supr;this.__supr=i[r][e];var n={}.fabricatedUndefined,o=n;try{o=t.apply(this,arguments)}finally{this.__supr=a}return o}}function a(e,a,n){for(var o in a)a.hasOwnProperty(o)&&(e[o]=t(a[o])&&t(n[r][o])&&s.test(a[o])?i(o,a[o],n):a[o])}function n(e,i){function n(){}function o(){this.__init?this.__init.apply(this,arguments):(i||l&&s.apply(this,arguments),d.apply(this,arguments))}n[r]=this[r];var s=this,c=new n,l=t(e),d=l?e:this,p=l?{}:e;return o.methods=function(e){return a(c,e,s),o[r]=c,this},o.methods.call(o,p).prototype.constructor=o,o.extend=arguments.callee,o[r].implement=o.statics=function(e,t){return e="string"==typeof e?function(){var i={};return i[e]=t,i}():e,a(this,e,s),this},o}var o="function",s=/xyz/.test(function(){xyz})?/\b__supr\b/:/.*/,r="prototype";return e})},function(e,t,i){e.exports=function(e){!function(e){function t(){null==c&&(e(document.body).append(o),c=e("#yx-widgetDialogContainer"))}function a(t){var i=e(window).height(),a=t.outerHeight();i-a>0?t.css("top",(i-a)/2).show():t.css("top",0).show()}var n='<div class="yx-m-overlay yx-m-overlay-ani <%=this.dialogClsName||""%> ">	        <div class="yx-w-mask yx-w-mask-ani j-yx-mask"></div>	        <div class="yx-m-pop yx-f-scroll-y yx-overlay-container-ani  yx-f-tlbr j-yx-overlay-container <%=this.clsName||""%>">	            <div class="j-yx-dialog-body">	                <div class="j-yx-dialog-head">	                    <div class="yx-w-close j-yx-close-pop"></div>	                </div>	                <div class="yx-popwin-bd j-yx-dialog-content">	                </div>	            </div>	        </div>	        </div>',o='<div id="yx-widgetDialogContainer" class="yx-cp-base"></div>',s=1130,r=20,c=null,l=i(12);e.fn.extend({showDialog2:function(i){var o,d,p,u,h,f=this;return i=i||{},t(),o=e(e.jqote(n,i)),d=o.find(".j-yx-dialog-body"),p=o.find(">.j-yx-mask"),u=o.find(">.j-yx-overlay-container"),h=d.find(">.j-yx-dialog-content"),h.append(f.html()),c.append(o),c.hasClass("yx-cp-base")||c.addClass("yx-cp-base"),a(u),e(window).resize(function(){a(u)}),l.dockIn(d,e(window),{position:"middle,center",dockFunc:"css"}),i.close===!1&&o.find(".j-yx-close-pop").hide(),s+=r,o.css("z-index",s),o.removeClass("yx-f-ani-overlay"),p.addClass("yx-f-ani-mask"),u.addClass("yx-f-ani-bouncein"),d.find(".j-yx-close-pop").bind("click",function(){o.closeDialog2(i)}),o},closeDialog2:function(e){var t,i,a=this;a.addClass("yx-f-ani-overlay"),setTimeout(function(){e&&"function"==typeof e.onbeforeclose&&e.onbeforeclose(),t=a.find(">.j-yx-mask"),i=a.find(">.j-yx-overlay-container"),t.removeClass("yx-f-ani-mask"),i.removeClass("yx-f-ani-bouncein"),a.remove(),e&&"function"==typeof e.onclose&&e.onclose()},200)}})}(e)}},function(e,t){function i(e){var t=0;if("BODY"==e.get(0).tagName)return 0;"absolute"!=e.css("position")&&(t=e.scrollTop());var a=e.parent();return a&&a.get(0)?t+i(a):t}var a=64,n=[],o="",s={dockV:function(e,t,a){var n="",o="";if(a=$.extend({axis:"left,bottom"},a),a.axis){var s=a.axis.match(new RegExp("(left|center|right)"));s&&s.length>0&&(n=s[0]);var s=a.axis.match(new RegExp("(bottom|middle|top)"));s&&s.length>0&&(o=s[0])}var r=t.offset(),c=t.outerWidth(),l=t.outerHeight(),d=e.offsetParent();if(a.position&&(c=0,l=0,r=a.position),a.iframe){var p=a.iframe.offset();r.top=r.top+p.top,r.left=r.left+p.left}var u=e.outerWidth(),h=e.outerHeight(),f=d.offset(),m=f.left,y=f.top,g=0;"left"==n?g=r.left:"right"==n?g=r.left+c-u:"center"==n&&(g=r.left-(u-c)/2),g-=m;var x=1,v=0;"bottom"==o?(v=r.top+l,v-=x):"top"==o?(v=r.top-h,v+=x):"middle"==o&&(v=r.top-(h-l)/2),v-=y;var _=i(e);v+=_;var b=$.extend({x:0,y:0},a.positionFix);g+=b.x,v+=b.y,e.css("left",g+"px"),e.css("top",v+"px")},dockIn:function(e,t,i){var a="center",n="middle";if(i.axis){var o=i.axis.match(new RegExp("(left|center|right)"));o&&o.length>0&&(a=o[0]);var o=i.axis.match(new RegExp("(bottom|middle|top)"));o&&o.length>0&&(n=o[0])}var s=0,r=0,t=t||$(window),c=t.outerWidth(),l=t.outerHeight(),d=t.scrollTop(),p=e.outerWidth(),u=e.outerHeight();"center"==a?s=(c-p)/2:"right"==a?s=c-p:"left"==a&&(s=0),"middle"==n?r=(l-u)/2:"bottom"==n?r=l-u:"top"==n&&(r=0),r=d+r;var h=$.extend({x:0,y:0},i.positionFix);s+=h.x,r+=h.y,"css"===i.dockFunc?e.css({left:s,top:r}):e.offset({left:s,top:r})},addPop:function(e,t){var i=$(e);i.css("z-index",a++),n.push(i),void 0!=t&&(o=t)},clearPop:function(e){for(var t=$(e),i=n.length-1;i>=0;i--){var a=n[i];if(a.hasClass("f-ani-ppnlmenu")){if(0==t.length||t.length>0&&!$.contains(a.get(0),t.get(0))&&""==o||t.length>0&&o.length>0&&!$.contains(o.get(0),t.get(0))){try{a.removeClass("f-ani-ppnlmenu"),a.hasClass("js-dropmenu-ppnl")?a.addClass("f-hide"):setTimeout(function(){a.addClass("f-hide")},200)}catch(s){a.remove()}n.splice(i,1)}}else n.splice(i,1)}}};$(document).bind("mousedown",function(e){return s.clearPop(e.target),!0}),e.exports=s},function(e,t,i){var a=i(14),n=window.seckillUniqueFlag?"/xhr/seckill":"/xhr";e.exports=a("/xhr/search",[{name:"listByItemSearch",path:"/xhr/item",ajaxConfig:{type:"GET"}},{name:"searchAutoComplete",ajaxConfig:{type:"GET"}},{name:"search",ajaxConfig:{type:"GET"}},{name:"queryHotKeyWord",alias:"getHotKeyword",ajaxConfig:{type:"GET"},path:n+"/search"},{name:"rcmd",ajaxConfig:{type:"GET"}},{name:"orderSearch",ajaxConfig:{type:"GET"}},{name:"colorfulEgg",alias:"getPaintedEggshellWords",ajaxConfig:{type:"GET"},path:n+"/search"},{name:"colorfulEggV2/check",alias:"check",ajaxConfig:{type:"GET"}},{name:"colorfulEggV2/receive",alias:"receive",ajaxConfig:{type:"GET"}}])},function(e,t,i){var a=i(15),n=function(e){var t={name:"",ajaxConfig:{}};return e=$.extend(!0,{},t,e),function(t,i){var n=$.Deferred(),o={};return i=i||"",i&&i.indexOf("http://")<0&&i.indexOf("https://")<0&&(i="//"+i),e.processParams&&(t=e.processParams(t)),o={url:i+e.path+"/"+e.name+".json",data:t||{},success:function(t){e.successHandle?e.successHandle(t,n):n.resolve(t)},error:function(e,t,i){n.reject(e,t,i)},type:"POST"},a.ajax($.extend(!0,{},o,e.ajaxConfig)),n.promise()}},o=function(e,t){var i={};return $.map(t,function(t){"string"==typeof t&&(t={name:t}),t.path||(t.path=e),i[t.alias||t.name]=n(t)}),i};e.exports=o},function(e,t,i){var a=i(16),n=i(17),o={xhrQueue:{},ajax:function(e){var t=this,i=e.url;if(!i)return!1;window.IS_ACTIVITY_IFRAME&&(i="/middle/forward"+i),e.requestTime=new Date,e.param&&(i=a.appendURL(i,e.param)),n.getCookie("yx_csrf")&&(i=a.appendURL(i,{csrf_token:n.getCookie("yx_csrf")})),e.type&&"get"==e.type.toLowerCase()&&(i=a.appendURL(i,{__timestamp:e.requestTime.getTime()}));var o,s,r=e.data||{};o=e.dataType?e.dataType:"json",e.contentType&&(s=e.contentType),"undefined"==typeof s||s===$.ajaxSettings.contentType?r=$.param(r,!0):"application/json"===s&&(r=JSON.stringify(r));var c=i+JSON.stringify(r),l=t.xhrQueue[c];if(l){var d=l[l.length-1];if(t.xhrQueue[c].push(e),e.requestTime-d.requestTime<3e4)return}else t.xhrQueue[c]=[e];var p=function(e,i,a){var n=t.xhrQueue[c];delete t.xhrQueue[c],n&&($.each(n,function(t,n){n.error&&n.error(e,i,a)}),$.each(n,function(t,n){n.exception&&n.exception.dispatch(e,i,a)}))},u=function(e){var i=t.xhrQueue[c];delete t.xhrQueue[c],$.each(i,function(t,i){i.success&&i.success(e)})},h={url:i,type:e.type||"POST",dataType:o,contentType:s,data:r,async:0!=e.async,success:function(e){/^(html|text)$/i.test(o)?u(e):e?e.status&&e.statusText?p(e.status,e.status||"",e):"S_OK"==e.code||"200"==e.code||"201"==e.code?u(e):e.code?p(e.code,e.errorCode||"",e):u(e):p("502","error","no reponse text")}.bind(this),error:function(e,t,i){p("NET_ERROR","",t)}.bind(this)};$.ajax(h)}};e.exports=o,$.ajaxSettings.contentType="application/x-www-form-urlencoded; charset=UTF-8"},function(e,t){var i={cropURL:function(e,t){for(var i=e,a=0;a<t.length;a++){var n=new RegExp("[&]?"+t[a]+"=[^&]+","g");i=i.replace(n,"").replace("?&","?")}return i},getUrlParams:function(e){var t={};if(!e||-1==e.indexOf("?"))return t;for(var i=e.indexOf("?"),a=e.substring(i+1),n=a.split("&"),o=0;o<n.length;o++){var i=n[o].indexOf("=");if(-1!=i)try{t[n[o].substring(0,i)]=decodeURIComponent(n[o].substring(i+1))}catch(s){t[n[o].substring(0,i)]=n[o].substring(i+1)}}return t},appendURL:function(e,t){var i=e||"";if(!t)return i;var a=i.split("?"),n=a[0]+"?"+$.param(t,!0);return 2==a.length&&(n=n+"&"+a[1]),n.replace(/&+/gm,"&")},urlHttpsile:function(e,t){var i=e||"",a=$URL.proxyURL;return t&&(a=$URL.mimgProxyURL),0==i.indexOf("http://")?a+i.replace("http://",""):i},jsonp:function(e,t,i){var a=$.extend({charset:"utf-8"},i),n="_tmp_jsonp_callback"+ +new Date;a.funcName&&(n=a.funcName),window[n]=function(){t&&t.apply(window,arguments);try{delete window[n]}catch(e){}};var o={};o[a.callbackName||"callback"]=n;var s=this.appendURL(e,o);this.getScript(s,a.charset,function(){try{window[n](),delete window[n]}catch(e){}})},getScript:function(e,t,i,a){var n=function(){i&&i.apply(window,arguments)};this._getScript(e,t,n,a)},_getScript:function(e,t,i,a){setTimeout(function(){var n=/loaded|complete|undefined/,o=document.createElement("script");o.setAttribute("charset",t||"utf-8"),o.setAttribute("type","text/javascript"),o.setAttribute("src",e),o.async="async";var s=function(e){n.test(o.readyState)&&(o.onload=o.onerror=o.onreadystatechange=null,o.parentNode.removeChild(o),o=void 0,e?"function"==typeof i&&setTimeout(i,0):"function"==typeof a?setTimeout(a,0):"function"==typeof i&&setTimeout(i,0))};o.onload=function(){s(!0)},o.onerror=function(){s(!1)},o.onreadystatechange=function(){s(!0)};var r=document.getElementsByTagName("head")[0];r.appendChild(o)},0)},getPicUrl:function(e,t,i){var i=i||90,a={quality:i};return t&&(a.thumbnail=t),this.appendURL(e,a)+"&imageView"},extractUrl:function(e){e=e||"";var t=/(\w+):\/\/([^\:|\/]+)(\:\d*)?([^#|^\?]*)(#[^\?]*)?(\?.*)?/i,i=e.match(t);return i}};e.exports=i},function(e,t,i){var a=i(18),n={_baseUID:(new Date).getTime(),uid:function(e,t,i){return(e||"id_")+this._baseUID++},__cookieCache:{},setCookie:function(e,t,i,a,n){var o=e+"="+escape(t),a=a||"/";if(i&&-1!=i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),o+=";expires="+s.toGMTString()}o+=";path="+a,n&&(o+=";domain="+n),document.cookie=o+";",this.clearCookieCache()},clearCookieCache:function(){this.__cookieCache={}},getCookie:function(e){var t="",i=this.__cookieCache;i.lastTime?t=(new Date).getTime()-i.lastTime<1e3?i.cookie:i.cookie=document.cookie:(i.lastTime=(new Date).getTime(),t=i.cookie=document.cookie);var a=new RegExp(e+"=([^;]+)"),n=a.exec(t);return n?n[1]:null},escapeHTML:function(e){return e?("number"==typeof e&&(e=e.toString()),e.replace(/[\u0000]/g,"").replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):""},_$forIn:function(e,t,i){if(!e||!a._$isFunction(t))return null;if(a._$isNumber(e.length)){for(var o=0,s=e.length;s>o;o++)if(t.call(i,e[o],o,e))return o}else if(a._$isObject(e))return n._$loop(e,t,i);return null},_$loop:function(e,t,i){if(e&&t){var a;for(var n in e)if(e.hasOwnProperty(n)&&(a=t.call(i,e[n],n,e)))return n}},_$extend:function(e,t,i){for(var a in t)(void 0==e[a]||i)&&(e[a]=t[a]);return e},_$typeOf:function(e){return null==e?String(e):{}.toString.call(e).slice(8,-1).toLowerCase()},_$merge:function(e,t){var i,a=n._$typeOf(e),o=n._$typeOf(t);if(a!==o)return t;switch(o){case"object":for(var s in t)t.hasOwnProperty(s)&&(e[s]=n._$merge(e[s],t[s]));break;case"array":for(var s=0,i=t.length;i>s;s++)e[s]=n._$merge(e[s],t[s]);e.length=t.length;break;default:return t}return e},_$bindPolyfill:function(){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,a=function(){},n=function(){return i.apply(this instanceof a?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(a.prototype=this.prototype),n.prototype=new a,n})},_$isNew:function(){return!!this.getCookie("yx_aui")},_$isLogin:function(){var e=window.$global;return e&&0!=e.userid||!!this.getCookie("S_INFO")||!!this.getCookie("S_OINFO")},_$getFullUrsName:function(){var e="",t="",i="";if(this.getCookie("S_INFO"))e="P_INFO";else{if(!this.getCookie("S_OINFO"))return"";e="P_OINFO"}try{t=decodeURIComponent(this.getCookie(e)).replace(/(^\"*)|(\"*$)/g,"")||""}catch(a){t=this.getCookie(e).replace(/(^\"*)|(\"*$)/g,"")||""}return i=t.indexOf("|"),i>0&&(t=t.substring(0,i)+""),t},_$getFullUserName:function(){var e=this._$getFullUrsName(),t=window.$global;return t.nickname||e},_$smoothTo:function(e,t,i){function a(){d+=.05,d>1&&(d=1),window.scrollTo(c.x*d+o.x,o.y+d*c.y),1>d?r=setTimeout(a,l):n()}function n(){clearTimeout(r),document.onmousewheel=null}if("string"==typeof e&&(e=$(e)),0!=e.length){void 0===i&&(i=0);var o={x:Math.max(document.body.scrollLeft,document.documentElement.scrollLeft),y:Math.max(document.body.scrollTop,document.documentElement.scrollTop)},s=e.offset();s.top+=i;var r,c={x:s.left-o.x,y:s.top-o.y},t=t||500,l=t/60,d=.01;return document.onmousewheel=n,r=setTimeout(a,l),this}},_$getArrayItems:function(e,t){var i=[];for(var a in e)i.push(e[a]);for(var n=[],o=0;t>o&&i.length>0;o++){var s=Math.floor(Math.random()*i.length);n[o]=i[s],i.splice(s,1)}return n},_$string2object:function(e,t){var i={};return this._$forIn((e||"").split(t),function(e){var t=e.split("=");if(t&&t.length){var a=t.shift();if(a)try{i[decodeURIComponent(a)]=decodeURIComponent(t.join("="))}catch(n){i[a]=t.join("=")}}}),i},_$getUrlParams:function(){return this._$string2object(window.location.search.replace("?",""),"&")},_$getUrlParam:function(e){return this._$getUrlParams()[e]||""},_$getLoginConfig:function(e,t){var i="https://open.qiye.163.com/a/oauth2/authorize?client_id=yanxuan_test&response_type=code&redirect_uri=http%3a%2f%2fcps.you.yxp.163.com%2ftrack%2fqiyemail%2fauth.do&state=";"release"!==t&&"online"!==t||(i="https://open.qiye.163.com/a/oauth2/authorize?client_id=yanxuan&response_type=code&redirect_uri=http%3a%2f%2fcps.you.163.com%2ftrack%2fqiyemail%2fauth.do&state="),i+=encodeURIComponent(window.location.protocol+"//"+window.location.host+"/u/logincps");var a={product:"yanxuan_web",promark:"SkeBZeG",host:"you.163.com",page:"login",placeholder:{account:"邮箱帐号",pwd:"输入密码"},single:1,gotoRegTextMb:"注册手机帐号",regUrl:"//reg.163.com/reg/reg.jsp?product=yanxuan_web",cssDomain:"//yanxuan.nosdn.127.net/",cssFiles:"db3178c3a049b471b0c6f28ac465239d.css",oauthLoginConfig:[{name:"weixin"},{name:"qq"},{name:"weibo"},{name:"renren",url:i}],swidth:260,productkey:"7ef4da58447919badeea0a8b20ac7e54"};return e?a.includeBox="j-yx-loginFormWrap":(a.frameSize={width:386,height:444},a.iframeShowAnimation="showAnimation.5s"),a},_$getDownloadLink:function(e){var t=this.getCookie("yx_from")||"",i=this._$getUrlParam("channel"),a=(e?e:"http://you.163.com")+"/downloadapp";return""!=t&&(a+="?_stat_from="+t),""!=i&&(a+=a.indexOf("?")>0?"&channel="+i:"?channel="+i),a},_$addUrlQuery:function(e){var t=this.getCookie("yx_from")||"",i=this._$getUrlParam("channel"),a=e;return""!=t&&(a+="&_stat_from="+t),""!=i&&(a+="&channel="+i),a},_$getDownloadQRnode:function(e,t){var i="https://m.you.163.com/downloadapp?"+this._$addUrlQuery(t||""),a=new AraleQRCode({text:i,size:e,correctLevel:2});return a},_$createIframe:function(e,t){var i=document.createElement("iframe");i.src=e,t&&(i.attachEvent?i.attachEvent("onload",function(){t(),document.body.removeChild(i)}):i.onload=function(){t(),document.body.removeChild(i)}),document.body.appendChild(i)}};e.exports=n},function(e,t){var i={},a=function(e,t){try{return t=t.toLowerCase(),null===e?"null"==t:void 0===e?"undefined"==t:{}.toString.call(e).toLowerCase()=="[object "+t+"]"}catch(i){return!1}};i._$isFunction=function(e){return a(e,"function")},i._$isString=function(e){return a(e,"string")},i._$isNumber=function(e){return a(e,"number")},i._$isBoolean=function(e){return a(e,"boolean")},i._$isDate=function(e){return a(e,"date")},i._$isArray=function(e){return a(e,"array")},i._$isObject=function(e){return a(e,"object")},e.exports=i},function(e,t,i){var a=i(15),n=window.seckillUniqueFlag?"/xhr/seckill":"/xhr",o={checklogin:function(e){var t=e||{},i=$.Deferred();return a.ajax({url:"/xhr/common/checklogin.json",data:t,success:function(e){e.data?i.resolve():i.reject()},error:function(e,t,a){i.reject(e,t,a)},type:"GET",async:!1}),i},query:function(e){var t=e||{},i=$.Deferred();return a.ajax({url:n+"/globalinfo/query.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,a){i.reject(e,t,a)},type:"GET",async:!1}),i},queryTop:function(e){var t=e||{},i=$.Deferred();return a.ajax({url:n+"/globalinfo/queryTop.json",data:t,success:function(e){i.resolve(e)},error:function(e,t,a){i.reject(e,t,a)},type:"GET"}),i}};e.exports=o},function(e,t,i){function a(){var e=$.Deferred();return o.checklogin().done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()}function n(){location.href="/u/login?callback="+encodeURIComponent(window.location.href)}var o=i(19);e.exports=function(){var e=$.Deferred();return a().then(e.resolve,function(){n(e.resolve,e.reject)}),e.promise()}},function(e,t,i){var a=i(9),n=i(17),o=i(18),s=a.extend({template:'<div class="yx-cp-base yx-m-notify yx-hide"><div class="yx-text j-yx-text"></div></div>',iconMap:{success:"u-ok",fail:"u-fail",error:"u-fail",warning:"u-warning"},__config:function(e){n._$extend(e,{messages:"",isHide:!0,type:"",clazz:"hide",duration:2e3})},__init:function(e){this.__supr(e),this.__body=$(this.template),this.__textCon=this.__body.find(".j-yx-text").first(),$(document.body).append(this.__body)},notify:function(e,t,i,a,n){e&&"object"==typeof e&&(t=e.type,e=e.message,i=e.duration,a=e.callback),this.__data.duration=i||this.__data.duration,this.__data.message=e,this.__data.type=t||"success",this.__data.callback=a||null,this.__body.css({display:"block",left:n||"50%"}),this.__textCon.html(this.__data.message);var o=this.__clear.bind(this,e);return setTimeout(function(){this.__body.removeClass("yx-hide").addClass("yx-show")}.bind(this),0),this.__timer&&clearTimeout(this.__timer),-1!=this.__data.duration&&(this.__timer=setTimeout(o,this.__data.duration)),o},__clear:function(){this.__body.removeClass("yx-show").addClass("yx-hide"),o._$isFunction(this.__data.callback)&&this.__data.callback(),setTimeout(function(){this.__body.css("display","none")}.bind(this),500)}}),r=new s;r.Notify=s,e.exports=r},function(e,t){var i=function(e){return e.wraper||(e.wraper=function(){try{return e.apply(this,arguments)}catch(t){console.log("Error: "+t.message+"\nfrom: "+t.stack)}}),e.wraper};e.exports=function(e){if(!e)return{};for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=i(e[t]));return e}},function(e,t){},function(e,t,i){!function(){var e="https://qiyukf.com/script/96ee78c0d9633761581e89d5019c5595.js";if(!window.ysf){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.defer="defer",t.async="async";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}}()},function(e,t,i){var a='	<CONST_TAG type="text/x-jqote-template">	  <a id="j-yx-fixedToolActivity" class="yx-fixedtoolActivityEntry" data-id="<%=this.act.id%>" target="_blank" href="<%=this.act.huodongUrl %>?_stat_area=fixedTool&_stat_referer=index">	    <img class="yx-fixedtoolActivityPic" src="<%=this.act.huodongPicUrl%>">	  </a>	</CONST_TAG>',n='	<div id="yx-cp-fixedtool" class="yx-cp-base yx-cp-fixedtool j-yx-cp-fixedtool">			<a id="j-yx-fixedtoolNewuser" class="yx-fixedtoolNewuser" target="_blank" href="/gift/newUserGift?_stat_referer=fixedtool" style="display:none;">				<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-newuser"></i>				<p class="yx-fixedtoolText">新人有礼</p>			</a>			<a id="j-yx-fixedtoolDownloadlink" class="yx-fixedtoolDownload" target="_blank" href="/downloadapp">				<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-downloadapp"></i>				<p class="yx-fixedtoolText">下载APP</p>				<div class="yx-m-downloadLinkDialog j-yx-fixedtoolDownloadLinkDialog">					<div class="yx-main">	          <div class="yx-top">	            <div class="yx-f-left">	              <p class="yx-txt"><span class="yx-unit f-fz20">&yen;</span><span class="yx-account">1000</span></p>	            </div>	            <div class="yx-f-left">	              <div class="yx-tag yx-f-fz14">新人</div>	              <p class="yx-txt1 yx-f-fz18">现金礼</p>	            </div>	          </div>	          <div class="yx-bottom">	            <div class="yx-img j-yx-fixedtoolQrcode yx-f-left"></div>	            <div class="yx-f-left">	              <p class="yx-txt3 yx-f-fz20">立即扫码</p>	              <p class="yx-txt4 yx-f-fz14">下载APP领取</p>	            </div>	          </div>						<div class="yx-cp-icon-yxfixedtool icon-yxfixedtool-rightArrow"></div>					</div>				</div>			</a>			<div id="j-yx-fixedtoolSubscribe" class="yx-fixedtoolSubscribe">				<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-subscribe"></i>				<p class="yx-fixedtoolText">订阅电子刊</p>				<div class="yx-m-subscribeDialog j-yx-fixedtoolSubscribeDialog">					<div class="yx-main">						<div class="yx-head yx-cp-subscribebg">严选生活美学</div>	          <div class="yx-cp-icon-yxclose icon-yxclose-close10 j-yx-subscribeDialogClose" title="关闭"></div>	          <div class="yx-body">							<div class="yx-desc">订阅电子刊，第一时间获取严选最新资讯</div>							<div class="yx-inputWrap">								<input type="text" class="j-yx-fixedtoolInput" placeholder="输入您的电子邮件">								<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-clear j-yx-fixedtoolClear"></i>								<div class="j-yx-fixedtoolSubmit yx-submit">立即订阅</div>							</div>							<div class="yx-tip j-yx-fixedtoolTip"></div>						</div>						<div class="yx-foot">							<div class="yx-privilege">								<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-tag"></i>								<span class="yx-text">专属优惠</span>							</div>							<div class="yx-privilege">								<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-crown"></i>								<span class="yx-text">尊享优先购</span>							</div>							<div class="yx-privilege">								<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-sack"></i>								<span class="yx-text">好货不错过</span>							</div>						</div>						<div class="yx-cp-icon-yxfixedtool icon-yxfixedtool-rightArrow"></div>					</div>				</div>			</div>			<div id="j-yx-fixedtoolCustomerService" class="yx-fixedtoolCustomerService">				<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-customerService"></i>				<p class="yx-fixedtoolText">在线客服</p>			</div>			<div id="j-yx-fixedtoolGoTop" class="yx-fixedtoolGoTop">				<i class="yx-cp-icon-yxfixedtool icon-yxfixedtool-goTop"></i>				<p class="yx-fixedtoolText">回顶部</p>			</div>	    <div id="j-yx-fixedtoolAppGift" class="yx-fixedtoolAppGift">	      <div class="yx-left">	        <div class="yx-tag yx-f-fz14">新人</div>	        <div>	          <p class="yx-txt"><span class="yx-unit yx-f-fz18">&yen;</span><span class="yx-account">1000</span></p>	          <p class="yx-txt1 yx-f-fz18">现金礼</p>	          <p class="yx-txt2 yx-f-fz14">下载领1000元新人礼包</p>	        </div>	      </div>	      <div class="yx-right">	        <div class="j-yx-fixedtoolAppGiftQrcode yx-appGiftQrcode"></div>	        <div class="j-yx-fixedtoolDelete yx-delete"></div>	      </div>	      </div>		</div>';i(26),i(27);var o=i(17),s=i(28),r=i(29),c=i(31),l=i(22),d=i(9),p=i(32),u=i(33),h=i(19),f=d.extend({__init:function(e){this.__supr(e),this.__initRender(),this.__initElement(),this.__fixedtool.length&&this.__initFn()},__initRender:function(){var e=this.__data.container||"#yx-fixedTool";"string"==typeof e&&(this.__data.container=$(e),this.__data.container.length?this.__data.container=$(e).eq(0):this.__data.container=this.__createWraper(e),this.__data.container.html($(n)))},__createWraper:function(e){var t="#"===e[0]?"id":"class";return $("body").append($("<div  "+t+" ="+e.slice(1)+" ></div>")).find(e)},__initElement:function(){this.__container=this.__data.container,this.__uuid=o.getCookie("yx_aui"),this.__fixedtool=this.__container.find(".j-yx-cp-fixedtool"),this.__goTopBtn=this.__container.find("#j-yx-fixedtoolGoTop"),this.__subscribe=this.__container.find("#j-yx-fixedtoolSubscribe"),this.__activity=this.__container.find("#j-yx-fixedToolActivity"),this.__appGift=this.__container.find("#j-yx-fixedtoolAppGift"),this.__downloadLink=this.__container.find("#j-yx-fixedtoolDownloadlink"),this.__customerService=this.__container.find("#j-yx-fixedtoolCustomerService"),this.__newUserGift=this.__container.find("#j-yx-fixedtoolNewuser"),this.__subscrbeDialog=this.__container.find(".j-yx-fixedtoolSubscribeDialog"),this.__downloadLinkDialog=this.__container.find(".j-yx-fixedtoolDownloadLinkDialog")},__initFn:function(){this.__initActivity(),this.__setUserLoginStatus(),this.__isShowNewUserEntrance(),this.__initFixedTool(),window.currentPageIsIndex&&(this.__appGiftQRcode(),this.__initNewUserAppGift()),this.__initEventBind(),this.__initKeFu()},__initFixedTool:function(){this.__showGoTopIfNeeded(),this.__fixedtool.show()},__initActivity:function(){var e=h.query();e.done(function(e){var t;this.__downloadQRcode(e.data.host),e.data.hdrkMouseoverVO&&(t=$(a.replace(/CONST_TAG/g,"script")).jqote({act:e.data.hdrkMouseoverVO}),this.__fixedtool.prepend(t),
this.__initfixedToolStatistics())}.bind(this)),e.fail(function(){})},__setUserLoginStatus:function(){if("true"!=o.getCookie("yx_user_login")){var e=h.checklogin();e.done(function(){o.setCookie("yx_user_login",!0,36500),this.__checkIfShowSubscribe()}.bind(this)),e.fail(function(){this.__checkIfShowSubscribe()}.bind(this))}},__isShowNewUserEntrance:function(){return null==o.getCookie("yx_showNewUserEntrance")?void this.__newUserGift.hide():void u.isNewUser().done(function(e){e.data&&e.data.isNewUser&&e.data.showEntrance?this.__newUserGift.show():this.__newUserGift.hide()}.bind(this))},__checkIfShowSubscribe:function(){"true"!=o.getCookie("yx_user_login")&&"true"!=o.getCookie("yx_subscribe_status")&&(this.__subscribe.show(),c({device_id:this.__uuid,key:"subscribe",value:"suspend_show"}))},__initEventBind:function(){$(window).on("scroll.yx-cp-fixedtool",this.__showGoTopIfNeeded.bind(this)),$("body").on("click.yx-fixedtool","#yx-cp-fixedtool #j-yx-fixedtoolGoTop",function(e){return e.preventDefault(),this.__goTop(),!1}.bind(this)),this.__subscribeEventBind(),this.__appGiftEvent(),this.__downloadLink.hover(function(){this.__downloadLink.addClass("active")}.bind(this),function(){this.__downloadLink.removeClass("active")}.bind(this))},__toggleSubscribe:function(e){e?(this.__subscribe.addClass("active"),this.__subscrbeDialog.show()):(this.__subscribe.removeClass("active"),this.__subscrbeDialog.hide())},__subscribeEventBind:function(){var e=this.__subscribe.find(".j-yx-fixedtoolSubmit"),t=this.__subscribe.find(".j-yx-fixedtoolInput"),i=this.__subscribe.find(".j-yx-fixedtoolTip"),a=this.__subscribe.find(".j-yx-fixedtoolClear"),n=this.__subscribe.find(".j-yx-subscribeDialogClose");this.__isInfocus=!1,this.__isMoveIn=!1,this.__subscribe.hover(function(){this.__isInfocus||(o.setCookie("yx_subscribe_showtime",(new Date).getTime(),36500),this.__subscrbeDialog.show().data("statarea","suspend_pop"),c({device_id:this.__uuid,key:"subscribe",value:"suspend_pop"})),this.__toggleSubscribe(!0),this.__isMoveIn=!0}.bind(this),function(){this.__isMoveIn=!1,this.__isInfocus||this.__toggleSubscribe(!1)}.bind(this)),e.bind("click.yx-subscribe",function(){var e=t.val();if(""==e)return void i.text("请填写电子邮件地址");if(!s.isValid(e))return void i.text("邮件格式不正确");var a=p.subscribe({email:e,_stat_referer:"subscribe",_stat_area:this.__subscrbeDialog.data("statarea")});a.done(function(e){o.setCookie("yx_subscribe_status",!0,36500),i.text(e.data||"订阅成功"),this.__subscrbeDialog.fadeOut("normal",function(){this.__subscribe.slideUp()})}.bind(this)),a.fail(function(e,t){i.text(t||"订阅失败")})}.bind(this)),t.bind("keyup",function(){i.text(""),""==$(this).val()?a.hide():a.show()}),t.bind("focusin",function(){this.__isInfocus=!0,this.__toggleSubscribe(!0)}.bind(this)),n.bind("click",function(){this.__toggleSubscribe(!1)}.bind(this)),t.bind("focusout",function(){this.__isInfocus=!1,this.__isMoveIn||this.__toggleSubscribe(!1)}.bind(this)),t.placeholder(),a.bind("click",function(){t.val(""),t.focus(),a.hide()})},__initKeFu:function(){this.__customerService.click(function(){r()})},__showGoTopIfNeeded:function(){var e=this.__goTopBtn,t=$(document).scrollTop(),i=document.documentElement.clientHeight;t>=i?e.addClass("active"):e.removeClass("active")},__goTop:function(){$("body, html").animate({scrollTop:0},800)},__downloadQRcode:function(e){var t=o._$getDownloadQRnode(106,"ochannel=aos_pd_8");this.__container.find(".j-yx-fixedtoolQrcode").append(t),this.__downloadLink.attr("href",o._$getDownloadLink(e))},__initfixedToolStatistics:function(){var e=this;this.__container.find("#j-yx-fixedToolActivity").each(function(){var t=$(this),i=t.data("id");setTimeout(function(){c({uuid:e.__uuid,key:"侧边栏活动展示",id:i})},1e4)})},__initNewUserAppGift:function(){o.getCookie("yx_appGift")?this.__downloadLinkShow():(o.setCookie("yx_appGift",!0,1),this.__appGiftShow(),this.appGiftSetTimeOut=setTimeout(function(){this.__downloadLinkShow()}.bind(this),3e4))},__downloadLinkShow:function(){this.__downloadLink.show(),this.__appGift.hide()},__appGiftShow:function(){this.__downloadLink.hide(),this.__appGift.show()},__appGiftQRcode:function(){var e=o._$getDownloadQRnode(106,"ochannel=aos_pd_8");this.__container.find(".j-yx-fixedtoolAppGiftQrcode").append(e)},__appGiftEvent:function(){this.__appGift.find(".j-yx-fixedtoolDelete").on("click",function(){this.__downloadLinkShow(),clearTimeout(this.appGiftSetTimeOut)}.bind(this))},showSubScribeDialog:function(){"true"!=o.getCookie("yx_user_login")&&"true"!=o.getCookie("yx_subscribe_status")&&(new Date).getTime()-Number(o.getCookie("yx_subscribe_showtime"))>2592e5&&(o.setCookie("yx_subscribe_showtime",(new Date).getTime(),36500),this.__subscribe.addClass("active"),this.__subscribe.show(),this.__subscrbeDialog.show().data("statarea","user_pop"),c({device_id:o.getCookie("yx_aui"),key:"subscribe",value:"user_pop"}))},isShowNewUserEntrance:function(){this.__isShowNewUserEntrance()},hideSubScribeDialog:function(){this.__subscribe.removeClass("active"),this.__subscrbeDialog.hide()},isUserSubscribe:function(){return"true"==o.getCookie("yx_subscribe_status")}}),m=null,y={render:function(e){m=new f({data:{container:e}})},showSubScribeDialog:function(){m&&m.showSubScribeDialog()},hideSubScribeDialog:function(){m&&m.hideSubScribeDialog()},isShowNewUserEntrance:function(){m&&m.isShowNewUserEntrance()},isUserSubscribe:function(){return m?m.isUserSubscribe():!1}};e.exports=l(y)},function(e,t){"function"!=typeof"".trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(){if(document.documentMode&&document.documentMode<9){var e=Array.prototype.splice;Array.prototype.splice=function(){for(var t=[],i=0,a=arguments.length;a>i;i++)t.push(arguments[i]);return 1==t.length&&t.push(this.length-t[0]),e.apply(this,t)}}}(),function(){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,a=function(){},n=function(){return i.apply(this instanceof a?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(a.prototype=this.prototype),n.prototype=new a,n})}()},function(e,t){!function(e){e(jQuery)}(function(e){function t(t){var i={},a=/^jQuery\d+$/;return e.each(t.attributes,function(e,t){t.specified&&!a.test(t.name)&&(i[t.name]=t.value)}),i}function i(t,i){var a=this,o=e(this);if(a.value===o.attr(r?"placeholder-x":"placeholder")&&o.hasClass(h.customClass))if(a.value="",o.removeClass(h.customClass),o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),t===!0)return o[0].value=i,i;o.focus()}else a==n()&&a.select()}function a(a){var n,o=this,s=e(this),c=o.id;if(!a||"blur"!==a.type||!s.hasClass(h.customClass))if(""===o.value){if("password"===o.type){if(!s.data("placeholder-textinput")){try{n=s.clone().prop({type:"text"})}catch(l){n=e("<input>").attr(e.extend(t(this),{type:"text"}))}n.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":s,"placeholder-id":c}).bind("focus.placeholder",i),s.data({"placeholder-textinput":n,"placeholder-id":c}).before(n)}o.value="",s=s.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",s.data("placeholder-id")).show()}else{var d=s.data("placeholder-password");d&&(d[0].value="",s.attr("id",s.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}s.addClass(h.customClass),s[0].value=s.attr(r?"placeholder-x":"placeholder")}else s.removeClass(h.customClass)}function n(){try{return document.activeElement}catch(e){}}var o,s,r=!1,c="[object OperaMini]"===Object.prototype.toString.call(window.operamini),l="placeholder"in document.createElement("input")&&!c&&!r,d="placeholder"in document.createElement("textarea")&&!c&&!r,p=e.valHooks,u=e.propHooks,h={};l&&d?(s=e.fn.placeholder=function(){return this},s.input=!0,s.textarea=!0):(s=e.fn.placeholder=function(t){var n={customClass:"placeholder"};return h=e.extend({},n,t),this.filter((l?"textarea":":input")+"["+(r?"placeholder-x":"placeholder")+"]").not("."+h.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":i,"blur.placeholder":a}).data("placeholder-enabled",!0).trigger("blur.placeholder")},s.input=l,s.textarea=d,o={get:function(t){var i=e(t),a=i.data("placeholder-password");return a?a[0].value:i.data("placeholder-enabled")&&i.hasClass(h.customClass)?"":t.value},set:function(t,o){var s,r,c=e(t);return""!==o&&(s=c.data("placeholder-textinput"),r=c.data("placeholder-password"),s?(i.call(s[0],!0,o)||(t.value=o),s[0].value=o):r&&(i.call(t,!0,o)||(r[0].value=o),t.value=o)),c.data("placeholder-enabled")?(""===o?(t.value=o,t!=n()&&a.call(t)):(c.hasClass(h.customClass)&&i.call(t),t.value=o),c):(t.value=o,c)}},l||(p.input=o,u.value=o),d||(p.textarea=o,u.value=o),e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+h.customClass,this).each(function(){i.call(this,!0,"")});setTimeout(function(){t.each(a)},10)})}),e(window).bind("beforeunload.placeholder",function(){var t=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(t=!1)}catch(i){}t&&e("."+h.customClass).each(function(){this.value=""})}))})},function(e,t){for(var i="([\\w!#$%&'*+-/=?\\^_`{|}~\\.]+)",a="([-\\w]+(\\.[-\\w]+)+)",n=i+"@"+a,o=['\\"(.+)\\"[ ]*<'+n+">","\\'(.+)\\'[ ]*<"+n+">","([^\"']+)<"+n+">","<"+n+">",'\\"'+n+'\\"',"\\'"+n+"\\'",n,"[ \\\"\\']?(.+)[ \\\"\\']?[ ]*<[ ]*"+n+"[ ]*>"],s=[],r=o.length-1;r>=0;r--)s.push(new RegExp(o[r]));var c={_cache:{},emailPattern:"(\\w+[\\w\\-\\+]*\\w+@\\w+[\\w\\.\\-]*\\w+)",DEFAULT_SEP:";",isValid:function(e){return null!=this._parseEmail(e)},_parseEmail:function(e){e=$.trim(e);for(var t={},i=0;i<s.length;i++){var a=e.match(s[i]);if(null!=a)return 5==a.length?(t.name=a[1].replace(/"/g,""),t.mail=a[2]+"@"+a[3],t):4==a.length?(t.name=a[1].replace(/"/g,""),t.mail=a[1]+"@"+a[2],t):null}}};e.exports=c},function(e,t,i){function a(){var e,t,i;window.ysf&&(o._$isLogin()?(e={uid:0,name:0,email:""},i=window.kefuGroupType,t=n.query(),t.done(function(t){var a=t&&t.data,n=a&&a.userid?a.userid:0;e.uid=n,e.name=n,e.email=0===n?"":n,i&&(e.robotShuntSwitch=1,a&&"test"==a.environment?e.groupid=c[i]:e.groupid=r[i],e.groupid||delete e.groupid),ysf.config(e),ysf.open()}),t.fail(function(){i&&(e.robotShuntSwitch=1,e.groupid=r[i],e.groupid||delete e.groupid),ysf.config(e),ysf.open()})):window.location.href="/u/login?callback="+encodeURIComponent(window.location.href))}var n=i(19),o=i(17),s=i(30),r={1:s.KEFU_FE_GROUP_ID,2:s.KEFU_BE_GROUP_ID},c={1:s.KEFU_FE_GROUP_ID_TEST,2:s.KEFU_BE_GROUP_ID_TEST};e.exports=a},function(e,t){e.exports={ERROR_MAP:{"Validate.Error.0009":"密码错误次数超过每小时上限","Validate.Error.0010":"密码错误次数超过每天上限","Validate.Error.0011":"支付密码错误","Validate.Error.0012":"还没设置支付密码","Validate.Error.0014":"请求错误或超时，请刷新后重试"},DFT_ERROR_MSG:"系统繁忙，请稍后再试",PROMOTION_TYPE_MAP:{0:"无促销",1:"赠券",2:"满赠",3:"满减",4:"加价购",5:"满件减",6:"满额减",7:"满折",101:"赠券",102:"满赠",103:"满减",104:"加价购",105:"套装",106:"N元任选",107:"满件减",108:"满额减",109:"满折",201:"秒杀",202:"限时购",203:"限时购",301:"免邮",302:"免邮",303:"免邮"},BLANK_PIC:"http://yanxuan.nosdn.127.net/3d045b93716ed28dc745e648b3428a26.gif",LOADING_PIC:"http://yanxuan.nosdn.127.net/9f5063da9f5d2a404de7872160db22d4.gif",KEFU_FE_GROUP_ID:690549,KEFU_FE_GROUP_ID_TEST:17289,KEFU_BE_GROUP_ID:690550,KEFU_BE_GROUP_ID_TEST:19707}},function(e,t){e.exports=function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(""+i+"="+e[i]);t.push("type=web&rid="+(new Date).getTime());var a="//stat.mail.163.com/you/a.js?"+t.join("&");a=encodeURI(a);var n=$.get(a);setTimeout(function(){n.abort()},3e4)}},function(e,t,i){var a=i(15),n={_ajax:function(e,t,i,n){var o=t||{},s=$.Deferred();return a.ajax({url:e,data:o,success:function(e){s.resolve(e)},error:function(e,t,i){s.reject(e,t,i)},type:i||"POST",contentType:n||""}),s},subscribe:function(e){return this._ajax("/xhr/visitor/subscribe.json",e,"GET")}};e.exports=n},function(e,t,i){var a=i(15),n={_ajax:function(e,t,i){var n=t||{},o=$.Deferred();return a.ajax({url:e,data:n,success:function(e){o.resolve(e)},error:function(e,t,i){o.reject(e,t,i)},type:i||"POST"}),o},show:function(e){return this._ajax("/xhr/gift/newUserGift/show.json",e,"POST")},isNewUser:function(e){var t=window.seckillUniqueFlag?"/xhr/seckill":"/xhr";return this._ajax(t+"/gift/newUserGift/isNewUser.json",e,"GET")},get:function(e){return this._ajax("/xhr/gift/newUserGift/get.json",e,"POST")}};e.exports=n},function(e,t,i){var a=i(17),n=i(22),o=i(29),s=i(35);i(42);var r=function(){return React.createElement("div",{className:"yx-cp-m-serviceTel"},React.createElement("h4",{className:"yx-cp-hd"},"客户服务"),React.createElement("a",{onClick:o,className:"yx-w-button yx-cp-btn yx-cp-kefuBtn",href:"javascript:;"},"在线客服"),React.createElement("a",{onClick:s.handleShow,className:"yx-w-button yx-cp-btn yx-cp-feedbackBtn",href:"javascript:;"},"用户反馈"))},c=function(){return React.createElement("div",{className:"yx-cp-m-whatIsYX"},React.createElement("h4",{className:"yx-cp-hd"},"何为严选"),React.createElement("p",{className:"yx-cp-desc"},"网易原创生活类电商品牌，秉承网易一贯的严谨态度，我们深入世界各地，从源头全程严格把控商品生产环节，力求帮消费者甄选到优质的商品"))},l=function(e){return React.createElement("div",{className:"yx-cp-m-followUs"},React.createElement("p",{className:e.titleCls},e.title),React.createElement("div",{className:"yx-cp-followWayList"},React.createElement("div",{className:"yx-cp-followWay yx-f-left"},React.createElement("img",{src:e.yxIcon}),React.createElement("div",{className:"yx-cp-bd"},React.createElement("div",{className:"yx-cp-wrap"},React.createElement("img",{className:"yx-cp-imgQR",src:e.yxQR,alt:"严选易信"}),React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrowshadow"})))),React.createElement("div",{className:"yx-cp-followWay yx-f-left"},React.createElement("img",{src:e.wxIcon}),React.createElement("div",{className:"yx-cp-bd"},React.createElement("div",{className:"yx-cp-wrap"},React.createElement("img",{className:"yx-cp-imgQR",src:e.wxQR,alt:"严选微信"}),React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrowshadow"})))),React.createElement("a",{className:"yx-f-left",href:"//weibo.com/p/1006065627773110/home?from=page_100606&mod=TAB#place",target:"_blank"},React.createElement("img",{src:e.wbIcon}))))},d=function(){return React.createElement("div",{className:"yx-cp-m-ft1"},React.createElement("div",{className:"yx-cp-row"},React.createElement("div",{className:"yx-cp-item"},React.createElement(r,null)),React.createElement("div",{className:"yx-cp-item"},React.createElement(c,null),React.createElement(l,{titleCls:"yx-cp-title",title:"关注我们 :",yxIcon:"//yanxuan.nosdn.127.net/60068701f3a380911f237c26c91b39d0.png",wxIcon:"//yanxuan.nosdn.127.net/031e783d7ee645b6096980d0bf83079b.png",wbIcon:"//yanxuan.nosdn.127.net/0c8759a89cdbd7acf7f2921e6f0fad19.png",yxQR:"//yanxuan.nosdn.127.net/7117e381ba1bb5c2c9dfdafed7810d2e.png?imageView",wxQR:"//yanxuan.nosdn.127.net/a3652c6bd3723412fe5099aea1502e50.png?imageView"})),React.createElement("div",{className:"yx-cp-item"},React.createElement("div",{className:"yx-cp-m-ftAppDownload"},React.createElement("h4",{className:"yx-cp-hd"},"扫码下载严选APP"),React.createElement("div",{className:"j-yx-cp-footQRcode yx-cp-footQRcode"}),React.createElement("div",{className:"yx-cp-tip"},"下载领1000元新人礼包")))))},p=function(){return React.createElement("div",{className:"yx-cp-m-ft1"},React.createElement("div",{className:"yx-cp-row"},React.createElement("div",{className:"yx-cp-item"},React.createElement(r,null)),React.createElement("div",{className:"yx-cp-item"},React.createElement(c,null)),React.createElement("div",{className:"yx-cp-item"},React.createElement(l,{titleCls:"yx-cp-hd",title:"关注我们",yxIcon:"//yanxuan.nosdn.127.net/17a4162a1f4a4c9d0c2169414fc2533e.png",wxIcon:"//yanxuan.nosdn.127.net/36e38c4d78d206a2e73c18dff23d2ec2.png",wbIcon:"//yanxuan.nosdn.127.net/a9bdb47d337752ea632a8d23841cfce5.png",yxQR:"//yanxuan.nosdn.127.net/d947ae42dc1085f285f31b3ea61a269b.jpg?imageView",wxQR:"//yanxuan.nosdn.127.net/80f13a5cb52edc2bdfddbb8f4427fb95.jpg?imageView"}))))},u=function(){return React.createElement("div",{className:"yx-cp-m-ft2"},React.createElement("div",{className:"yx-cp-row"},React.createElement("ul",{className:"yx-cp-m-siteEnsure"},React.createElement("li",{className:"yx-cp-item"},React.createElement("div",{className:"yx-cp-inner"},React.createElement("img",{className:"yx-cp-icon",src:"//yanxuan.nosdn.127.net/e6021a6fcd3ba0af3a10243b7a2fda0d.png"}),React.createElement("p",{className:"yx-cp-text"},"30天无忧退换货"))),React.createElement("li",{className:"yx-cp-item"},React.createElement("div",{className:"yx-cp-inner"},React.createElement("img",{className:"yx-cp-icon",src:"//yanxuan.nosdn.127.net/e09c44e4369232c7dd2f6495450439f1.png"}),React.createElement("p",{className:"yx-cp-text"},"满88元免邮费"))),React.createElement("li",{className:"yx-cp-item"},React.createElement("div",{className:"yx-cp-inner"},React.createElement("img",{className:"yx-cp-icon",src:"//yanxuan.nosdn.127.net/e72ed4de906bd7ff4fec8fa90f2c63f1.png"}),React.createElement("p",{className:"yx-cp-text"},"网易品质保证")))),React.createElement("div",{className:"yx-cp-hr"}),React.createElement("div",{className:"yx-cp-m-siteInfo"},React.createElement("div",{className:"yx-cp-nav"},React.createElement("a",{className:"yx-cp-text",href:"/story",target:"_blank"},"关于我们"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"/help"},"帮助中心"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"/help#policys"},"售后服务"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"/help#deliver"},"配送与验收"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"/help#business"},"商务合作"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"http://b.you.163.com?from=yx"},"企业采购"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"https://open.you.163.com/",target:"_blank"},"开放平台"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"/product/keywords?letter=A&page=1",target:"_blank"},"搜索推荐"),React.createElement("b",{className:"yx-cp-split"},"|"),React.createElement("a",{className:"yx-cp-text",href:"/friendLink"},"友情链接")),React.createElement("p",{className:"yx-cp-copyright"},"网易公司版权所有 © 1997-",(new Date).getFullYear(),"   食品经营许可证：JY13301080111719"),React.createElement("a",{className:"yx-cp-businessAdmin",href:"http://idinfo.zjaic.gov.cn/bscx.do?method=hddoc&id=33010800002352",target:"_blank"},React.createElement("img",{className:"yx-cp-img",src:"//yanxuan.nosdn.127.net/86f32b668af6e537389a77480fb5c74d.gif"})))))},h=React.createClass({displayName:"Foot",componentDidMount:function(){var e=a._$getDownloadQRnode(104,"ochannel=aos_pd_8");$(".j-yx-cp-footQRcode").append(e)},render:function(){var e=this.props.options,t=null,i=null;return void 0==e.isShowFt&&(e.isShowFt=!0),void 0==e.isShowFt2&&(e.isShowFt2=!0),e.isShowFt===!0&&(t="downloadapp"==e.currentPage?React.createElement(p,null):React.createElement(d,null)),e.isShowFt2===!0&&(i=React.createElement(u,null)),e.isShowFt===!1&&e.isShowFt2===!1?null:React.createElement("div",{className:"yx-cp-m-foot yx-cp-base "+("downloadapp"==e.currentPage?"yx-cp-m-foot-official":"")},t,i)},getAbsoluteLink:function(e){return e}}),f={render:function(e,t){var i=$(e).get(0);i&&ReactDOM.render(React.createElement(h,{options:t||{}}),i)}};e.exports=n(f)},function(e,t,i){var a=i(17),n=i(36),o=i(11),s=i(21),r=i(37);i(38),o($);var c=React.createClass({displayName:"Feedback",getInitialState:function(){return{isDisplayOption:!1,reasonList:[],typeVal:"请选择",typeId:0,mobile:"",errorMsg:"",errorList:{}}},componentDidMount:function(){this.handleRefreshCaptcha(),this.getFeedbackTypes(),$(this.refs.uploadImage).yxUploadImage({maxNumberOfFiles:4})},handleRefreshCaptcha:function(){$(this.refs.captcha).attr("src",this.getNewCaptchaUrl())},handleTextareaChange:function(){var e=$(this.refs.content),t=e.val();t.length>500&&(t=t.substring(0,500),e.val(t)),$(this.refs.totalCount).text(t.length)},handleSuccess:function(){this.props.dialog.closeDialog2(),setTimeout(function(){s.notify("谢谢你的建议")},100)},handleSubmit:function(e){e.preventDefault();var t={},i=$.trim($(this.refs.mobile).val()),a=!1,n=$(this.refs.uploadImage).yxUploadImage("getImageList")||[];n=n.map(function(e){return{picUrl:e}}),i&&i==this.state.mobile&&(a=!0),this.clearError(),t={picUrlListJson:JSON.stringify({picList:n}),type:this.state.typeId,content:$.trim($(this.refs.content).val()),mobile:i,verifyCode:$.trim($(this.refs.verifyCode).val())},this.validateForm(t,a)&&r.submit(t).then(function(){this.handleSuccess()}.bind(this),function(e,t){this.setState({errorMsg:t})}.bind(this))},handleShowOptions:function(e){e.preventDefault(),this.setState({isDisplayOption:!0})},handleSelectedReason:function(e,t,i){i.preventDefault(),i.stopPropagation(),this.setState({isDisplayOption:!1,typeVal:t,typeId:e})},render:function(){return React.createElement("form",{className:"yx-cp-m-feedbackForm"},React.createElement("div",{className:"yx-cp-formGroup yx-cp-formGroup-type"},React.createElement("label",{className:"yx-cp-formLabel"},"反馈类型 :"),React.createElement("div",{className:"yx-cp-typeOpts "+(this.state.errorList.type?"yx-cp-inputError":"")},React.createElement("div",{onClick:this.handleShowOptions},React.createElement("span",{className:"yx-cp-typeVal"},this.state.typeVal),React.createElement("i",{className:"yx-cp-icon-yxnormal icon-yxnormal-select-arrow yx-cp-downIcon"})),React.createElement("div",{className:"yx-cp-options "+(this.state.isDisplayOption?"":"yx-f-hide")},React.createElement("ul",null,this.state.reasonList.map(function(e,t){return React.createElement("li",{key:t,onClick:this.handleSelectedReason.bind(null,e.type,e.desc),className:"yx-cp-optionItem"},e.desc)}.bind(this)))))),React.createElement("div",{className:"yx-cp-formGroup yx-cp-formGroup-feedbackCnt"},React.createElement("label",{className:"yx-cp-formLabel"},"反馈内容 :"),React.createElement("div",{className:"yx-cp-inputControl "+(this.state.errorList.content?"yx-cp-inputError":"")},React.createElement("textarea",{ref:"content",className:"yx-cp-inputArea",name:"content",onChange:this.handleTextareaChange,placeholder:"对我们网站、商品、服务，您还有什么建议吗？您还希望在严选上买到什么？请告诉我们..."}),React.createElement("div",{className:"yx-cp-tip"},React.createElement("span",{ref:"totalCount"},"0"),"/500"))),React.createElement("div",{className:"yx-cp-formGroup yx-cp-formGroup-pics"},React.createElement("label",{className:"yx-cp-formLabel"},"相关图片 :"),React.createElement("div",{ref:"uploadImage",className:"yx-cp-uploadImage"})),React.createElement("div",{className:"yx-cp-formGroup yx-cp-formGroup-phone"},React.createElement("label",{className:"yx-cp-formLabel"},"手 机 号 :"),React.createElement("div",{className:"yx-f-left"},React.createElement("input",{className:"yx-cp-inputControl "+(this.state.errorList.mobile?"yx-cp-inputError":""),autoComplete:"off",name:"mobile",ref:"mobile",defalutValue:this.state.mobile,placeholder:"方便我们与您联系",type:"text"}))),React.createElement("div",{className:"yx-cp-formGroup yx-cp-formGroup-captcha"},React.createElement("label",{className:"yx-cp-formLabel"},"验 证 码 :"),React.createElement("div",{className:"yx-cp-inputGroup yx-f-left"},React.createElement("input",{ref:"verifyCode",className:"yx-cp-inputControl "+(this.state.errorList.verifyCode?"yx-cp-inputError":""),autoComplete:"off",name:"verifyCode",type:"text"}),React.createElement("img",{onClick:this.handleRefreshCaptcha,ref:"captcha",className:"yx-cp-captcha"}),React.createElement("a",{onClick:this.handleRefreshCaptcha,className:"yx-cp-unclear",href:"javascript:;"},"看不清"))),React.createElement("div",{className:"yx-cp-submitGroup"},React.createElement("a",{onClick:this.handleSubmit,className:"yx-w-button yx-w-button-primary yx-w-button-l"},"提交"),this.state.errorMsg?React.createElement("div",{className:"yx-cp-tipMsg yx-f-hide",href:"javascript:;"},React.createElement("i",{className:"yx-cp-icon-yxnormal icon-yxnormal-disable"}),React.createElement("span",null,this.state.errorMsg)):null))},getNewCaptchaUrl:function(){var e="/xhr/feedback/verifyCode.do?csrf_token="+a.getCookie("yx_csrf");return e+"&rand="+a.uid()},getFeedbackTypes:function(){r.getFeedbackTypes().then(function(e){e.data&&this.setState({reasonList:e.data||[]})}.bind(this))},getMobile:function(){r.getUserMobile().then(function(e){""!=e.data&&this.setState({mobile:e.data})})},clearError:function(){this.state.errorList.type=!1,this.state.errorList.content=!1,this.state.errorList.mobile=!1,this.state.errorList.verifyCode=!1,this.setState({errorMsg:"",errorList:this.state.errorList})},validateForm:function(e,t){return 0==e.type?(this.state.errorList.type=!0,this.setState({errorList:this.state.errorList,errorMsg:"请选择反馈类型"}),!1):e.content?!e.mobile||n.isCellPhone(e.mobile)||t?e.verifyCode?!0:(this.state.errorList.verifyCode=!0,this.setState({errorList:this.state.errorList,errorMsg:"验证码不能为空"}),$(this.refs.verifyCode).focus(),!1):($(this.refs.mobile).val(e.mobile.replace(/\*/g,"")).focus(),this.state.errorList.mobile=!0,this.setState({errorList:this.state.errorList,errorMsg:"手机号码格式错误"}),!1):(this.state.errorList.content=!0,this.setState({errorList:this.state.errorList,errorMsg:"请填写反馈内容"}),$(this.refs.content).focus(),!1)}}),l={handleShow:function(){var e=["<div>",'<div class="yx-cp-m-feedbackModal">','<h3 class="yx-cp-feedbackTitle">关于严选，我们还有很多希望与您交流</h3>','<div id="j-yx-cp-feedbackFormWrap"></div>',"</div>","</div>"].join(""),t=$(e).showDialog2({clsName:"yx-cp-m-feedbackPop"});ReactDOM.render(React.createElement(c,{dialog:t}),document.getElementById("j-yx-cp-feedbackFormWrap"))}};e.exports=l},function(e,t){var i={isCellPhone:function(e){return 11==e.length?!!/^1[34578][0-9]{9}$/.test(e):!1}};e.exports=i},function(e,t,i){var a=i(15),n={submit:function(e){var t=$.Deferred();return a.ajax({url:"/xhr/feedback/submit.json",contentType:"application/json",data:e,success:function(e){t.resolve(e)},error:function(e,i,a){t.reject(e,i)},type:"POST"}),t},getUserMobile:function(e){var t=$.Deferred();return a.ajax({url:"/xhr/feedback/getUserMobile.json",contentType:"application/json",data:e,success:function(e){t.resolve(e)},error:function(e,i,a){t.reject(e,i)},type:"POST"}),t},getFeedbackTypes:function(){var e=$.Deferred();return a.ajax({url:"/xhr/feedback/typeList.json",success:function(t){e.resolve(t)},error:function(t,i,a){e.reject(t,i)},type:"POST"}),e}};e.exports=n},function(e,t,i){var a=i(21);i(39),i(40),i(41);var n=function(e){var t,i=$(this),n='<div class="yx-cp-m-uploadImage"><div class="yx-cp-queue j-yx-cp-queue"></div><div class="yx-cp-w-button-upload j-yx-cp-button-upload">  <input class="yx-cp-file-input j-yx-cp-fileInput" type="file" name="file"  accept="image/*" multiple></div></div>',o='<div class="yx-cp-w-uploadImgBox"><img class="yx-cp-uploadImg"/><a class="yx-cp-deleteImg" href="javascript:;">删除</a><div class="yx-cp-uploadProgress">0%</div></div>',s="/xhr/file/upload.json",r=0;if(!i.hasClass("yx-cp-uploadImageInited")){i.append(n);var c=i.find(".j-yx-cp-fileInput"),l=i.find(".j-yx-cp-button-upload"),d=i.find(".j-yx-cp-queue");t=$.extend({url:s,maxNumberOfFiles:8,sequentialUploads:!0,acceptFileTypes:/(\.|\/)(gif|jpe?g|bmp|png)$/i,maxFileSize:2e7,formAcceptCharset:"UTF-8",dataType:"json",type:"post",autoUpload:!1,messages:{acceptFileTypes:"只能上传gif,jpg,jpeg,png,bmp格式的图片",maxFileSize:"您上传的图片太大了"}},e);var p=function(e){r=m(r,e),t.deleteCallback&&t.deleteCallback(r)};if(t.picList&&t.picList.length>0){for(var u=0;u<t.picList.length&&u<t.maxNumberOfFiles;u++){var h=$(o).appendTo(d),f=t.picList[u];h.find(".yx-cp-uploadProgress").hide(),h.find(".yx-cp-uploadImg").attr("src",f),h.find(".yx-cp-deleteImg").on("click",p.bind(this,{context:h,maxNumberOfFiles:t.maxNumberOfFiles})),h.addClass("yx-cp-uploadSuccess"),r=t.picList.length}t.maxNumberOfFiles<=t.picList.length&&l.hide()}c.fileupload(t).bind("fileuploadadd",function(){r++}).bind("fileuploaddone",function(e,i){if(void 0!=i.context&&void 0!=i.result){var a=i.context,n=i.result;"200"==n.code?(a.find(".yx-cp-uploadProgress").hide(),a.find(".yx-cp-uploadImg").attr("src",n.data[0]),a.find(".yx-cp-deleteImg").on("click",p.bind(this,i)),a.addClass("yx-cp-uploadSuccess"),"function"==typeof t.callback&&t.callback()):r=m(r,i,n.errorCode)}}).bind("fileuploadfail",function(e,t){r=m(r,t,"文件上传失败！")}).bind("fileuploadprocessalways ",function(e,t){if(r>t.maxNumberOfFiles)return void(r=m(r,t,"最多只能上传"+t.maxNumberOfFiles+"张图片"));r==t.maxNumberOfFiles&&l.hide();var i=t.index,a=t.files[i];a.error?r=m(r,t,a.error):(t.context=$(o).appendTo(d),t.submit())}).bind("fileuploadprogress",function(e,t){if(void 0!=t.context){var i=parseInt(t.loaded/t.total*100,10)+"%",a=t.context.find(".yx-cp-uploadProgress");a.length>0&&a.text(i)}}),i.addClass("yx-cp-uploadImageInited");var m=function(e,t,i){return i&&a.notify(i,"error"),void 0!=t.context&&t.context.remove(),e--,e<t.maxNumberOfFiles&&l.show(),e}}},o=function(){var e=[];return $(this).find(".yx-cp-uploadImg").each(function(){e.push($(this).attr("src"))}),e},s=function(e){return"getImageList"===e?o.apply(this):void $(this).each(function(){n.apply(this,[e])})};$.fn.yxUploadImage=s},function(e,t){!function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var a,n,o;for(o=0;null!=(n=i[o]);o++)try{a=e._data(n,"events"),a&&a.remove&&e(n).triggerHandler("remove")}catch(s){}t(i)}}(e.cleanData),e.widget=function(t,i,a){var n,o,s,r,c={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,a||(a=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(a,function(t,a){return e.isFunction(a)?void(c[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=a.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(c[t]=a)}),s.prototype=e.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||t:t},c,{constructor:s,namespace:l,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var a,n,o=i.call(arguments,1),s=0,r=o.length;r>s;s++)for(a in o[s])n=o[s][a],o[s].hasOwnProperty(a)&&void 0!==n&&(e.isPlainObject(n)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],n):e.widget.extend({},n):t[a]=n);return t},e.widget.bridge=function(t,a){var n=a.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,r=i.call(arguments,1),c=this;return s?this.each(function(){var i,a=e.data(this,n);return"instance"===o?(c=a,!1):a?e.isFunction(a[o])&&"_"!==o.charAt(0)?(i=a[o].apply(a,r),i!==a&&void 0!==i?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(r.length&&(o=e.widget.extend.apply(null,[o].concat(r))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new a(o,this))})),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,a){
a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var a,n,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},a=t.split("."),t=a.shift(),a.length){for(n=s[t]=e.widget.extend({},this.options[t]),o=0;o<a.length-1;o++)n[a[o]]=n[a[o]]||{},n=n[a[o]];if(t=a.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,a){var n,o=this;"boolean"!=typeof t&&(a=i,i=t,t=!1),a?(i=n=e(i),this.bindings=this.bindings.add(i)):(a=i,i=this.element,n=this.widget()),e.each(a,function(a,s){function r(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||e.guid++);var c=a.match(/^([\w:-]*)\s*(.*)$/),l=c[1]+o.eventNamespace,d=c[2];d?n.delegate(d,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,a){var n,o,s=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,a),!(e.isFunction(s)&&s.apply(this.element[0],[i].concat(a))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,n,o){"string"==typeof n&&(n={effect:n});var s,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=o,n.delay&&a.delay(n.delay),s&&e.effects&&e.effects.effect[r]?a[t](n):r!==t&&a[r]?a[r](n.duration,n.easing,o):a.queue(function(i){e(this)[t](),o&&o.call(a[0]),i()})}});e.widget}(jQuery)},function(e,t){!function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(i){if(i.async){var a,n,o,s=i.initialIframeSrc||"javascript:false;";return{send:function(r,c){a=e('<form style="display:none;"></form>'),a.attr("accept-charset",i.formAcceptCharset),o=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+o+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+o+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+o+"_method=PATCH",i.type="POST"),t+=1,n=e('<iframe src="'+s+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(i.paramName)?i.paramName:[i.paramName];n.unbind("load").bind("load",function(){var t;try{if(t=n.contents(),!t.length||!t[0].firstChild)throw new Error}catch(i){t=void 0}c(200,"success",{iframe:t}),e('<iframe src="'+s+'"></iframe>').appendTo(a),window.setTimeout(function(){a.remove()},0)}),a.prop("target",n.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(a)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",o[t]||i.paramName)}),a.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),a.submit(),t&&t.length&&i.fileInput.each(function(i,a){var n=e(t[i]);e(a).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(a)})}),a.append(n).appendTo(document.body)},abort:function(){n&&n.unbind("load").prop("src",s),a&&a.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}(jQuery)},function(e,t){!function(e){"use strict";function t(t){var i="dragover"===t;return function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var n=a.dataTransfer;n&&-1!==e.inArray("Files",n.types)&&this._trigger(t,e.Event(t,{delegatedEvent:a}))!==!1&&(a.preventDefault(),i&&(n.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){return t.isDefaultPrevented()?!1:void((i.autoUpload||i.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var a=e-this.timestamp;return(!this.bitrate||!i||a>i)&&(this.bitrate=(t-this.loaded)*(1e3/a)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var a,n=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&n-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=n,a=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=a-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=a,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(n,a,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,a=t.xhr?t.xhr():e.ajaxSettings.xhr();a.upload&&(e(a.upload).bind("progress",function(e){var a=e.originalEvent;e.lengthComputable=a.lengthComputable,e.loaded=a.loaded,e.total=a.total,i._onProgress(e,t)}),t.xhr=function(){return a})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,a=this,n=t.files[0],o=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",n)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:s,value:t.blob}):e.each(t.files,function(a,n){i.push({name:"array"===e.type(t.paramName)&&t.paramName[a]||s,value:n})})):(a._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(s,t.blob,n.name):e.each(t.files,function(n,o){(a._isInstanceOf("File",o)||a._isInstanceOf("Blob",o))&&i.append("array"===e.type(t.paramName)&&t.paramName[n]||s,o,o.uploadName||o.name)})),t.data=i):(t.contentType=n.type||"application/octet-stream",t.data=t.blob||n),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),a=t.paramName;return a?e.isArray(a)||(a=[a]):(a=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)a.push(i),n-=1}),a.length||(a=[i.prop("name")||"files[]"])),a},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,a){var n=e.Deferred(),o=n.promise();return i=i||this.options.context||o,t===!0?n.resolveWith(i,a):t===!1&&n.rejectWith(i,a),o.abort=n.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,i){var a=this,n=function(t){return e.Deferred().resolveWith(a,t).promise()};i.process=function(t,o){return(t||o)&&(i._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){return i.errorThrown?e.Deferred().rejectWith(a,[i]).promise():n(arguments)}).pipe(t,o)),this._processQueue||n([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=a._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&a._onSend(t,this)),this.jqXHR||a._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",a._trigger("fail",null,this),a._getXHRPromise(!1))},i.state=function(){return this.jqXHR?a._getDeferredState(this.jqXHR):this._processQueue?a._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===a._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),a=i&&i.length>1&&parseInt(i[1],10);return a&&a+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var a,n,o=this,s=t.files[0],r=s.size,c=t.uploadedBytes,l=t.maxChunkSize||r,d=this._blobSlice,p=e.Deferred(),u=p.promise();return this._isXHRUpload(t)&&d&&(c||r>l)&&!t.data?i?!0:c>=r?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(n=function(){var i=e.extend({},t),u=i._progress.loaded;i.blob=d.call(s,c,c+l,s.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+r,o._initXHRData(i),o._initProgressListener(i),a=(o._trigger("chunksend",null,i)!==!1&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(a,s,l){c=o._getUploadedBytes(l)||c+i.chunkSize,u+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=c,i.result=a,i.textStatus=s,i.jqXHR=l,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),r>c?n():p.resolveWith(i.context,[a,s,l])}).fail(function(e,t,a){i.jqXHR=e,i.textStatus=t,i.errorThrown=a,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),p.rejectWith(i.context,[e,t,a])})},this._enhancePromise(u),u.abort=function(){return a.abort()},n(),u):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,a,n){var o=n._progress.total,s=n._response;n._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),n),s.result=n.result=t,s.textStatus=n.textStatus=i,s.jqXHR=n.jqXHR=a,this._trigger("done",null,n)},_onFail:function(e,t,i,a){var n=a._response;a.recalculateProgress&&(this._progress.loaded-=a._progress.loaded,this._progress.total-=a._progress.total),n.jqXHR=a.jqXHR=e,n.textStatus=a.textStatus=t,n.errorThrown=a.errorThrown=i,this._trigger("fail",null,a)},_onAlways:function(e,t,i,a){this._trigger("always",null,a)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var a,n,o,s,r=this,c=r._getAJAXSettings(i),l=function(){return r._sending+=1,c._bitrateTimer=new r._BitrateTimer,a=a||((n||r._trigger("send",e.Event("send",{delegatedEvent:t}),c)===!1)&&r._getXHRPromise(!1,c.context,n)||r._chunkedUpload(c)||e.ajax(c)).done(function(e,t,i){r._onDone(e,t,i,c)}).fail(function(e,t,i){r._onFail(e,t,i,c)}).always(function(e,t,i){if(r._onAlways(e,t,i,c),r._sending-=1,r._active-=1,c.limitConcurrentUploads&&c.limitConcurrentUploads>r._sending)for(var a=r._slots.shift();a;){if("pending"===r._getDeferredState(a)){a.resolve();break}a=r._slots.shift()}0===r._active&&r._trigger("stop")})};return this._beforeSend(t,c),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.pipe(l)):(this._sequence=this._sequence.pipe(l,l),s=this._sequence),s.abort=function(){return n=[void 0,"abort","abort"],a?a.abort():(o&&o.rejectWith(c.context,n),l())},this._enhancePromise(s)):l()},_onAdd:function(t,i){var a,n,o,s,r=this,c=!0,l=e.extend({},this.options,i),d=i.files,p=d.length,u=l.limitMultiFileUploads,h=l.limitMultiFileUploadSize,f=l.limitMultiFileUploadSizeOverhead,m=0,y=this._getParamName(l),g=0;if(!p)return!1;if(h&&void 0===d[0].size&&(h=void 0),(l.singleFileUploads||u||h)&&this._isXHRUpload(l))if(l.singleFileUploads||h||!u)if(!l.singleFileUploads&&h)for(o=[],a=[],s=0;p>s;s+=1)m+=d[s].size+f,(s+1===p||m+d[s+1].size+f>h||u&&s+1-g>=u)&&(o.push(d.slice(g,s+1)),n=y.slice(g,s+1),n.length||(n=y),a.push(n),g=s+1,m=0);else a=y;else for(o=[],a=[],s=0;p>s;s+=u)o.push(d.slice(s,s+u)),n=y.slice(s,s+u),n.length||(n=y),a.push(n);else o=[d],a=[y];return i.originalFiles=d,e.each(o||d,function(n,s){var l=e.extend({},i);return l.files=o?s:[s],l.paramName=a[n],r._initResponseObject(l),r._initProgressObject(l),r._addConvenienceMethods(t,l),c=r._trigger("add",e.Event("add",{delegatedEvent:t}),l)}),c},_replaceFileInput:function(t){var i=t.fileInput,a=i.clone(!0),n=i.is(document.activeElement);t.fileInputClone=a,e("<form></form>").append(a)[0].reset(),i.after(a).detach(),n&&a.focus(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?a[0]:t}),i[0]===this.element[0]&&(this.element=a)},_handleFileTreeEntry:function(t,i){var a,n=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},r=function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},c=function(){a.readEntries(function(e){e.length?(l=l.concat(e),c()):r(l)},s)},l=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},s):t.isDirectory?(a=t.createReader(),c()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var a=this;return e.when.apply(e,e.map(t,function(e){return a._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var i,a,n=t.prop("webkitEntries")||t.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(i=e.makeArray(t.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(a=t.prop("value"),!a)return e.Deferred().resolve([]).promise();i=[{name:a.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,a={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(a.fileInput).always(function(n){a.files=n,i.options.replaceFileInput&&i._replaceFileInput(a),i._trigger("change",e.Event("change",{delegatedEvent:t}),a)!==!1&&i._onAdd(t,a)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,a={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&a.files.push(i)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),a)!==!1&&this._onAdd(t,a))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,a=t.dataTransfer,n={};a&&a.files&&a.files.length&&(t.preventDefault(),this._getDroppedFiles(a).always(function(a){n.files=a,i._trigger("drop",e.Event("drop",{delegatedEvent:t}),n)!==!1&&i._onAdd(t,n)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var a=-1!==e.inArray(t,this._specialOptions);a&&this._destroyEventHandlers(),this._super(t,i),a&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,a=this.element.data();e.each(this.element[0].attributes,function(e,n){var o,s=n.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=a[s],t._isRegExpOption(s,o)&&(o=t._getRegExp(o)),i[s]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,a,n=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return a=!0,i?i.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!a){if(!e.length)return void o.reject();t.files=e,i=n._onSend(null,t),i.then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}});var i=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(t,a){var n=e(this);a.process(function(){return n.fileupload("process",a)}),i.call(this,t,a)}},processActions:{},_processFile:function(t,i){var a=this,n=e.Deferred().resolveWith(a,[t]),o=n.promise();return this._trigger("process",null,t),e.each(t.processQueue,function(t,n){var s=function(t){return i.errorThrown?e.Deferred().rejectWith(a,[i]).promise():a.processActions[n.action].call(a,t,n)};o=o.pipe(s,n.always&&s)}),o.done(function(){a._trigger("processdone",null,t),a._trigger("processalways",null,t)}).fail(function(){a._trigger("processfail",null,t),a._trigger("processalways",null,t)}),o},_transformProcessQueue:function(t){var i=[];e.each(t.processQueue,function(){var a={},n=this.action,o=this.prefix===!0?n:this.prefix;e.each(this,function(i,n){"string"===e.type(n)&&"@"===n.charAt(0)?a[i]=t[n.slice(1)||(o?o+i.charAt(0).toUpperCase()+i.slice(1):i)]:a[i]=n}),i.push(a)}),t.processQueue=i},processing:function(){return this._processing},process:function(t){var i=this,a=e.extend({},this.options,t);return a.processQueue&&a.processQueue.length&&(this._transformProcessQueue(a),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(n){var o=n?e.extend({},a):a,s=function(){return t.errorThrown?e.Deferred().rejectWith(i,[t]).promise():i._processFile(o,t)};o.index=n,i._processing+=1,i._processingQueue=i._processingQueue.pipe(s,s).always(function(){i._processing-=1,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}}),e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,i){if(i.disabled)return t;var a,n=e.Deferred(),o=this.options,s=t.files[t.index];return(i.minFileSize||i.maxFileSize)&&(a=s.size),"number"===e.type(i.maxNumberOfFiles)&&(o.getNumberOfFiles()||0)+t.files.length>i.maxNumberOfFiles?s.error=o.i18n("maxNumberOfFiles"):!i.acceptFileTypes||i.acceptFileTypes.test(s.type)||i.acceptFileTypes.test(s.name)?a>i.maxFileSize?s.error=o.i18n("maxFileSize"):"number"===e.type(a)&&a<i.minFileSize?s.error=o.i18n("minFileSize"):delete s.error:s.error=o.i18n("acceptFileTypes"),s.error||t.files.error?(t.files.error=!0,n.rejectWith(this,[t])):n.resolveWith(this,[t]),n.promise()}}})}(jQuery)},function(e,t){},function(e,t,i){var a=i(11),n=i(17),o=i(18),s=i(16),r=i(19),c=i(22);a($),s.getScript("https://ursdoccdn.nosdn.127.net/webzj_cdn101/message_170510.js?v="+(new Date).getTime());var l,d,p,u=function(){var e=r.query();e.done(function(e){e&&e.data&&e.data.environment&&(p=e.data.environment)}),e.fail()},h={show:function(e,t){e||(e=function(){window.location.reload()}),p||u();var i=this;l=$('<div><div id="j-yx-loginFormWrap" style="height:460px;"></div></div>').showDialog2({clsName:"yx-m-loginPop",onclose:t}),d=e,window.URS?i.__initURS():s.getScript("https://ursdoccdn.nosdn.127.net/webzj_cdn101/message_170510.js?v="+(new Date).getTime(),"utf-8",function(){i.__initURS()})},__initURS:function(){var e=new URS(n._$getLoginConfig(!0,p||"online"));e.logincb=function(){o._$isFunction(d)?n._$createIframe("/activity/csrf",d):location.href=d,l.closeDialog2()}}};e.exports=c(h)},function(e,t,i){i(45);var a=i(17),n=i(11),o=i(36),s=i(21),r=i(22),c=i(46),l=i(9),d=i(37),p='<div>	                      <div class="yx-desp">输入手机号，该商品到货将第一时间短信提醒您</div>	                      <input class="yx-mobile j-yx-receiveMobile" type="text" placeholder="请输入接收通知的手机号">	                      <div class="yx-tips j-yx-tips"></div>	                      <a class="yx-btn yx-w-button yx-w-button-primary yx-w-button-xl j-yx-submit" href="javascript:void(0);">	                          <span>确定</span>	                      </a>	                  </div>',u='<div>	                      <div class="yx-desp">输入手机号，该商品上架将第一时间短信提醒您</div>	                      <input class="yx-mobile j-yx-receiveMobile" type="text" placeholder="请输入接收通知的手机号">	                      <div class="yx-tips j-yx-tips"></div>	                      <a class="yx-btn yx-w-button yx-w-button-primary yx-w-button-xl j-yx-submit" href="javascript:void(0);">	                          <span>确定</span>	                      </a>	                  </div>',h='<div>	                      <div class="yx-desp">输入手机号该商品开抢前将第一时间通知您</div>	                      <input class="yx-mobile j-yx-receiveMobile" type="text" placeholder="请输入接收通知的手机号">	                      <div class="yx-tips j-yx-tips"></div>	                      <a class="yx-btn yx-w-button yx-w-button-primary yx-w-button-xl j-yx-submit" href="javascript:void(0);">	                          <span>确定</span>	                      </a>	                  </div>';n($);var f=l.extend({__config:function(e){a._$extend(e,{producId:0})},__init:function(e){this.__supr(e),this.__initNode(),this.__initData()},__initData:function(){var e=d.getUserMobile();e.done(function(e){200==e.code&&e.data&&this.__input.val(e.data)}.bind(this))},__initNode:function(){var e=this.__data,t=e.type||1;1==t?this.__seed_html=p:2==t?this.__seed_html=u:3==t&&(this.__seed_html=h),this.__body=$(this.__seed_html).showDialog2({clsName:"yx-m-remindPop"});var i=this.__input=this.__body.find(".j-yx-receiveMobile").first(),a=(this.__tips=this.__body.find(".j-yx-tips").first(),this.__submit=this.__body.find(".j-yx-submit").first());i.focus(),a.click($.proxy(this.__onSubmitCallBack,this))},__onSubmitCallBack:function(){var e,t=this.__data,i=t.producId,a=~~t.type||1,n=this.__input.val(),r=t.layawayId,l={},d=this;if(!n)return this.__tips.text("手机号码不可以为空").show(),!1;if(n&&!o.isCellPhone(n)&&!/^\d*\*{4}\d{4}$/.test(n))return this.__tips.text("手机号码格式错误").show(),!1;switch(this.__tips.hide(),l.mobile=n,t.layawayId&&(a=0),a){case 0:l.layawayId=r,l.type=a,e=c.layawayAddRemind(l);break;case 1:case 2:l.itemId=i,l.skuId=t.skuId,l.type=a,e=c.addRemind(l);break;case 3:l.itemId=i,e=c.skAddRemind(l)}e.done(function(e){s.notify("设置成功","success"),setTimeout(function(){d.__body.closeDialog2()},2500)}),e.fail(function(e,t,i){s.notify(t,"error"),3==a&&setTimeout(function(){d.__body.closeDialog2()},2500)})},__hide:function(){this.__body.closeDialog2()}}),m=null,y={show:function(e){m=new f({data:e})},hide:function(){m&&(m.__hide(),m=null)}};e.exports=r(y)},function(e,t){},function(e,t,i){var a=i(15),n={_ajax:function(e,t,i){var n=t||{},o=$.Deferred();return a.ajax({url:e,data:n,success:function(e){o.resolve(e)},error:function(e,t,i){o.reject(e,t,i)},type:i||"POST"}),o},submit:function(e){return this._ajax("/xhr/winter/sub.json",e)},addRemind:function(e){return this._ajax("/xhr/remind/addRemind.json",e)},layawayAddRemind:function(e){return this._ajax("/xhr/layaway/remind/addRemind.json",e)},skAddRemind:function(e){return this._ajax("/xhr/seckill/subSaleNotification.json",e)}};e.exports=n},function(e,t,i){var a=i(22),n=i(19),o=i(48),s=i(58);i(68);var r=React.createClass({displayName:"Top",getInitialState:function(){var e=window.JSON&&window.JSON.parse(window.localStorage&&window.localStorage["yx-cp-globalData"]||null),t=$.extend({},{isDisplayNickname:!1,isDisplayCateList:!1},e);return{global:t}},componentDidMount:function(){this.getTopData()},render:function(){return void 0==this.props.options.isShowCategory&&(this.props.options.isShowCategory=!0),React.createElement("div",{className:"yx-cp-base yx-cp-m-top",id:"j-yx-cp-m-top"},React.createElement(o,{global:this.state.global}),React.createElement(s,{global:this.state.global,options:this.props.options
}))},getTopData:function(){var e=this;n.queryTop().done(function(t){t.data.isDisplayNickname=!0,t.data.isDisplayCateList=!0,e.setState({global:t.data||{}}),window.localStorage&&(window.localStorage["yx-cp-globalData"]=JSON&&JSON.stringify({cateList:t.data.cateList,zxjCategory:t.data.zxjCategory,topicList:t.data.topicList,topLogo:t.data.topLogo,isDisplayCateList:t.data.isDisplayCateList}))})}}),c={render:function(e,t){var i=$(e).get(0);i&&ReactDOM.render(React.createElement(r,{options:t||{}}),i)}};e.exports=a(c)},function(e,t,i){var a=i(17),n=i(49),o=i(51),s=i(53),r=i(54),c=i(56),l=!0;i(57);var d=React.createClass({displayName:"SiteNav",getInitialState:function(){return{dropdown:{}}},componentDidMount:function(){this.getDownloadLink(),this.bindNavHoverEvent()},componentDidUpdate:function(){this.bindNavHoverEvent(),this.addCallbackUrl(),this.getUnReadMsg()},render:function(){return React.createElement("div",{className:"yx-cp-m-siteNav",id:"j-yx-cp-m-siteNav"},React.createElement("div",{className:"yx-cp-row"},React.createElement("div",{className:"yx-cp-siteNav-l"},React.createElement("div",{className:"yx-cp-siteNavItem",style:{marginLeft:0}},React.createElement("div",{className:"yx-cp-siteNavItemHd"},React.createElement("a",{href:this.props.global.host+"/story",target:"_blank"},"好的生活，没那么贵"))),this.props.global.noticeList&&this.props.global.noticeList.length>0?React.createElement("div",{className:"yx-cp-siteNavItem"},React.createElement("div",{className:"yx-cp-siteNavItemHd"},React.createElement(n,{noticeList:this.props.global.noticeList}))):null),React.createElement("div",{className:"yx-cp-siteNav-r"},this.props.global.isDisplayNickname?this.props.global.nickname?React.createElement("div",{className:"yx-cp-siteNavItem","data-dropdown":"userCenterDropdown"},React.createElement("div",{className:"yx-cp-siteNavItemHd"},this.props.global.membershipOn&&this.props.global.memberLevel>0?React.createElement("a",{className:"yx-cp-icon-yxmember icon-yxmember-top-vip"+this.props.global.memberLevel,href:this.props.global.host+"/membership/index",title:"严选会员"}):null,React.createElement("a",{href:this.props.global.host+"/user/index"},this.props.global.nickname,React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrow",style:{marginLeft:"10px"}}))),React.createElement("div",{className:"yx-cp-siteNavItemBd"},this.state.dropdown.userCenterDropdown?React.createElement(o,{global:this.props.global}):null)):React.createElement("div",{className:"yx-cp-siteNavItem",style:{"float":"left"}},React.createElement("div",{className:"yx-cp-siteNavItemHd"},React.createElement("a",{style:{marginRight:"20px"},ref:"login",href:"/u/login",title:"网易严选登录"},"登录"),React.createElement("a",{className:"yx-cp-register",ref:"register","data-href":"//reg.163.com/reg/reg.jsp?product=yanxuan_web",href:"javascript:;"},"注册"))):null,this.props.global.nickname?React.createElement("div",{className:"yx-cp-siteNavItem"},React.createElement("div",{className:"yx-cp-siteNavItemHd pipe"},React.createElement("a",{href:this.props.global.host+"/msgCenter"},"消息",React.createElement("span",{className:"yx-cp-unReadedMessageRemind j-unReadedMessageRemind"})))):null,React.createElement("div",{className:"yx-cp-siteNavItem"},React.createElement("div",{className:"yx-cp-siteNavItemHd pipe"},React.createElement("a",{href:this.props.global.host+"/order/myList"},"我的订单"))),React.createElement("div",{className:"yx-cp-siteNavItem"},React.createElement("div",{className:"yx-cp-siteNavItemHd pipe"},React.createElement("a",{href:this.props.global.host+"/membership/index"},"严选会员"))),React.createElement("div",{className:"yx-cp-siteNavItem"},React.createElement("div",{className:"yx-cp-siteNavItemHd pipe"},React.createElement("a",{href:"http://b.you.163.com?from=yx"},"企业采购"))),React.createElement("div",{className:"yx-cp-siteNavItem","data-dropdown":"customerServiceDropdown"},React.createElement("div",{className:"yx-cp-siteNavItemHd pipe"},"客户服务",React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrow",style:{marginLeft:"10px"}})),React.createElement("div",{className:"yx-cp-siteNavItemBd"},this.state.dropdown.customerServiceDropdown?React.createElement(s,{global:this.props.global}):null)),React.createElement("div",{className:"yx-cp-siteNavItem","data-dropdown":"appDownload"},React.createElement("div",{className:"yx-cp-siteNavItemHd pipe"},React.createElement("a",{target:"_blank",href:this.props.global.host+"/downloadapp",ref:"downloadlink"},React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-app",style:{marginRight:"6px"}}),"下载APP")),React.createElement("div",{className:"yx-cp-siteNavItemBd"},this.state.dropdown.appDownload?React.createElement(r,null):null)))))},bindNavHoverEvent:function(){var e=null,t=this;$(".yx-cp-siteNavItem").off("mouseenter mouseleave"),$(".yx-cp-siteNavItem").off("click",".yx-cp-dropdownMenuItem"),$(".yx-cp-siteNavItem").hover(function(){var i=$(this).data("dropdown");i&&(e=setTimeout(function(){t.state.dropdown[i]=!0,t.setState({dropdown:t.state.dropdown})},200))},function(){clearTimeout(e);var i=$(this).data("dropdown");i&&(t.state.dropdown[i]=!1,t.setState({dropdown:t.state.dropdown}))}),$(".yx-cp-siteNavItem").on("click",".yx-cp-dropdownMenuItem",function(e){var i=$(e.currentTarget).parents(".yx-cp-siteNavItem").data("dropdown");i&&(t.state.dropdown[i]=!1,t.setState({dropdown:t.state.dropdown}))})},getDownloadLink:function(){$(this.refs.downloadlink).attr("href",a._$getDownloadLink())},getUnReadMsg:function(){return l?void(this.props.global&&this.props.global.nickname&&c.getStatus().done(function(e){e.data&&$(".j-unReadedMessageRemind").show(),l=!1})):null},addCallbackUrl:function(){$(this.refs.register).attr("href",$(this.refs.register).data("href")+"&url="+encodeURIComponent(window.location.protocol+"//you.163.com"+window.location.search+window.location.hash)),$(this.refs.login).attr("href",this.props.global.host+"/u/login?callback="+encodeURIComponent(window.location.href.replace(window.location.protocol+"//"+window.location.host,"")))}});e.exports=d},function(e,t,i){var a=i(16),n=i(17),o=i(31);i(50),e.exports=React.createClass({displayName:"exports",getDefaultProps:function(){return{noticeList:[]}},componentDidMount:function(){var e=$(this.refs.noticeList),t=e.height(),i=$(this.refs.noticeListUL),a=this.props.noticeList.length;if(a>1){var n=function(){setTimeout(function(){i.stop(!0,!0).animate({top:parseInt(i.css("top"))-t},500,function(){var e=parseInt(i.css("top"));e+i.height()<=t&&i.css({top:0}),n()})},5e3)};n()}},shouldComponentUpdate:function(){return!1},render:function(){return this.props.noticeList.length>1&&this.props.noticeList.push(this.props.noticeList[0]),React.createElement("div",{className:"yx-cp-m-noticeList",ref:"noticeList"},React.createElement("ul",{className:"yx-cp-noticeListUL",ref:"noticeListUL"},this.props.noticeList.map(function(e,t){var i="",s=20,r="...",c=e.content,l="";return e.content.length>s&&(c=e.content.substring(0,s)+r),o({uuid:n.getCookie("yx_aui"),page:window.location.pathname,content:c,key:"notice_board"}),1==e.type&&(i=React.createElement("span",{className:"yx-cp-noticeTxt"},c)),2==e.type&&(l=a.appendURL(e.targetUrl,{_stat_content:c,_stat_refer:window.location.pathname}),i=React.createElement("a",{className:"yx-cp-noticeTxt yx-f-text-underline",href:l,target:"_blank"},c)),React.createElement("li",{key:t,className:"yx-cp-noticeItem"},i)})))}})},function(e,t){},function(e,t,i){var a=i(52);e.exports=React.createClass({displayName:"exports",getInitialState:function(){return{couponCount:0}},componentDidMount:function(){this.initCouponCount()},render:function(){return React.createElement("div",{className:"yx-cp-m-dropdownMenu",style:this.props.style?this.props.style:{right:"-10px"}},React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/coupon"},"优惠券",this.state.couponCount?"("+this.state.couponCount+")":null),React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/user/giftCard"},"礼品卡"),React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/item/userCollection"},"我的收藏"),React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/points/index"},"我的积分"),this.props.global.memberLevel>0&&this.props.global.memberLevel<=4?React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/lead/inviteAndReturn"},"邀请返利"):null,React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/user/myExpertInfo?_stat_referer=myList",target:"_blank"},"我的甄选家"),React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:this.props.global.host+"/u/logout"},"退出登录"),React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrowshadow"}))},initCouponCount:function(){a.count().done(function(e){void 0!=e.data&&this.setState({couponCount:e.data.count})}.bind(this))}})},function(e,t,i){var a=i(14);e.exports=a("/xhr/coupon",[{name:"list",ajaxConfig:{type:"GET"}},{name:"delete",alias:"del",processParams:function(e){return{id:e}}},{name:"activate",processParams:function(e){return{activationCode:e}},successHandle:function(e,t){var i={1:"兑换成功",2:"此优惠码已被兑换",3:"优惠码错误",4:"兑换次数超限",5:"此兑换码为新用户专享",6:"需要绑定手机",7:"该帐号下手机号曾与"+e.data.countInfo+"绑定领取过",8:"该帐号下手机号曾与"+e.data.countInfo+"绑定消费过",99:"优惠码已过期"};e.data={status:e.data.status,tipMsg:i[e.data.status]||"优惠码错误"},t.resolve(e)}},{name:"countUnused",alias:"count"},{name:"queryByItemAndUser",path:"/xhr/item",ajaxConfig:{type:"GET"}},{name:"getItemCoupon",ajaxConfig:{type:"GET"}},{name:"getCurrentPcUrl",ajaxConfig:{type:"GET"}}])},function(e,t,i){var a=i(29);e.exports=function(e){return React.createElement("div",{className:"yx-cp-m-dropdownMenu"},React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:"javascript:;",onMouseDown:a},"在线客服"),React.createElement("a",{className:"yx-cp-dropdownMenuItem",href:e.global.host+"/help"},"帮助中心"),React.createElement("a",{href:e.global.host+"/help#business",className:"yx-cp-dropdownMenuItem"},"商务合作"),React.createElement("a",{href:"https://open.you.163.com/",className:"yx-cp-dropdownMenuItem",target:"_blank"},"开放平台"),React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrowshadow"}))}},function(e,t,i){var a=i(17);i(55),e.exports=React.createClass({displayName:"exports",componentDidMount:function(){$(this.refs.qrcode).append(a._$getDownloadQRnode(117,"ochannel=aos_pd_8"))},render:function(){return React.createElement("div",{className:"yx-cp-m-dropdownMenu yx-cp-m-dropdownMenu-appDownload"},React.createElement("div",{className:"yx-cp-QRcode",ref:"qrcode"}),React.createElement("span",{className:"yx-cp-QRtxt"},"下载领1000元新人礼包"),React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-upArrowshadow"}))}})},function(e,t){},function(e,t,i){var a=i(14),n=window.seckillUniqueFlag?"/xhr/seckill":"/xhr";e.exports=a(n+"/msgCenter",["getStatus","getGroupList","getList"])},function(e,t){},function(e,t,i){var a=i(59),n=i(62),o=i(64),s=i(51);i(67);var r=React.createClass({displayName:"FuncTab",getInitialState:function(){return{dropdown:{}}},componentDidMount:function(){this.props.options.isShowCategory&&this.initFuncTab()},componentDidUpdate:function(){this.bindUserHoverEvent(),this.addCallbackUrl()},render:function(){return this.props.options.isShowCategory?React.createElement("div",{className:"yx-cp-m-funcTab",ref:"funcTab",style:{height:this.props.options.isShowCategory?"204px":"0"}},React.createElement("div",{className:"yx-cp-row",style:{height:"100%"}},this.props.global.topLogo&&this.props.global.topLogo.switchOn?React.createElement("a",{className:"yx-cp-tabLogo-activity yx-cp-funcTabFixed-hide",href:this.props.global.topLogo.activityUrl,title:"网易严选",target:"_blank"},React.createElement("img",{src:this.props.global.topLogo.activityPicUrl})):React.createElement("a",{className:"yx-cp-tabLogo yx-cp-funcTabFixed-hide",href:this.props.global.host+"/",title:"网易严选",target:"_top"},React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-logo"})),React.createElement("a",{className:"yx-cp-tabLogo-fixed yx-cp-funcTab-hide",href:this.props.global.host+"/",title:"网易严选",target:"_top"},React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-miniLogo"})),this.props.options.isShowCategory?React.createElement(o,{global:this.props.global}):null,this.props.global.isDisplayNickname?this.props.global.nickname?React.createElement("div",{className:"yx-cp-fixed-user yx-cp-funcTab-hide"},React.createElement("a",{href:this.props.global.host+"/user/index",style:{display:"block"}},React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-userempty"})),this.state.dropdown.userCenterDropdown?React.createElement(s,{style:{right:"-34px",top:"34px"},global:this.props.global}):null):React.createElement("div",{className:"yx-cp-fixed-notLogin yx-cp-funcTab-hide"},React.createElement("a",{className:"yx-cp-fixed-login",ref:"login",href:"/u/login",title:"网易严选登录"},"登录"),React.createElement("a",{className:"yx-cp-fixed-register",ref:"register","data-href":"//reg.163.com/reg/reg.jsp?product=yanxuan_web",href:"javascript:;"},"注册")):null,this.props.options.isShowCategory&&this.props.global.isDisplayCateList?React.createElement(n,{global:this.props.global,options:this.props.options}):null,this.props.options.isShowCategory?React.createElement(a,{global:this.props.global,options:this.props.options}):null)):React.createElement("div",null,React.createElement("div",{className:"yx-cp-m-funcTab",style:{height:0}},React.createElement("div",{className:"yx-cp-row"},React.createElement("a",{className:"yx-cp-tabLogo yx-cp-funcTabFixed-hide",href:this.props.global.host+"/",title:"网易严选",target:"_top"},React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-logo"})))))},addCallbackUrl:function(){$(this.refs.register).attr("href",$(this.refs.register).data("href")+"&url="+encodeURIComponent(window.location.protocol+"//you.163.com"+window.location.search+window.location.hash)),$(this.refs.login).attr("href",this.props.global.host+"/u/login?callback="+encodeURIComponent(window.location.href.replace(window.location.protocol+"//"+window.location.host,"")))},bindUserHoverEvent:function(){var e=null,t=this;$(".yx-cp-fixed-user").off("mouseenter mouseleave"),$(".yx-cp-fixed-user").off("click",".yx-cp-dropdownMenuItem"),$(".yx-cp-fixed-user").hover(function(){e=setTimeout(function(){t.state.dropdown.userCenterDropdown=!0,t.setState({dropdown:t.state.dropdown})},200)},function(){clearTimeout(e),t.state.dropdown.userCenterDropdown=!1,t.setState({dropdown:t.state.dropdown})}),$(".yx-cp-fixed-user").on("click",".yx-cp-dropdownMenuItem",function(){t.state.dropdown.userCenterDropdown=!1,t.setState({dropdown:t.state.dropdown})})},initFuncTab:function(){var e=$(this.refs.funcTab),t=function(){$(document).scrollTop()>=192?e.addClass("yx-cp-m-funcTab-fixed"):e.removeClass("yx-cp-m-funcTab-fixed")};$(window).on("scroll.miniNav",t),t()}});e.exports=r},function(e,t,i){var a=i(16),n=i(17),o=i(13),s=i(60);i(61);var r=React.createClass({displayName:"Search",getDefaultProps:function(){return{}},getInitialState:function(){return{isDisplaySuggest:!1,isDisplayDefault:!1,highLightIndex:-1}},componentWillMount:function(){"string"==typeof keyword&&(this.keyword=keyword)},componentDidMount:function(){this.$input=$(this.refs.input),this.keyword||this.setState({isDisplayDefault:!0}),this.getHotKeywordList(),this.getPaintedEggshell()},handleKeydown:function(e){var t=0;"history&hot"==this.state.renderType?t=this.historyKeywordList.length+this.hotKeywordList.length:"autoComplete"==this.state.renderType&&(t=this.autoCompleteList.length),13==e.keyCode?this.state.isDisplaySuggest&&-1!=this.state.highLightIndex?this.selectHighLightItem(this.state.highLightIndex):this.handleSearch():38==e.keyCode?this.state.highLightIndex>0&&(this.state.highLightIndex--,this.setState({highLightIndex:this.state.highLightIndex})):40==e.keyCode&&this.state.highLightIndex<t-1&&(this.state.highLightIndex++,this.setState({highLightIndex:this.state.highLightIndex}))},handleJudgeSuggestRender:function(e){if(38!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode){var t=this.$input.val();""==t?(this.setState({isDisplayDefault:!0}),this.suggestRender("history&hot")):(this.setState({isDisplayDefault:!1}),this.autoComplete(t))}},handleBlur:function(){""==this.$input.val()&&this.setState({isDisplayDefault:!0}),this.setState({isDisplaySuggest:!1}),this.getHotKeywordList()},handleRecordEggWord:function(e){var t=$.Deferred();return o.check({searchEggWord:e}).done(function(i){i.data&&i.data.result&&(n.setCookie("yx-colorfulEggV2-keyword",e),n.setCookie("yx-colorfulEggV2-type",i.data.type),n.setCookie("yx-colorfulEggV2-keywordMd5",i.data.keywordMd5)),t.resolve()}.bind(this)).fail(function(){t.resolve()}.bind(this)),t.promise()},handleSearch:function(e,t){var i=null,a=null,o="",s=null,r=$.trim(this.props.global.searchDefaultWordVO&&this.props.global.searchDefaultWordVO.content),c=$.trim(this.props.global.searchDefaultWordVO&&this.props.global.searchDefaultWordVO.type),l=$.trim(this.$input.val());e="string"==typeof e?$.trim(e):"";var d=n.escapeHTML(e||l||r);if(""!=d){if(e||(l?t="userhand":r&&(t="0"==c?"default_user":"default_common")),this.showPaintedEggshell(d),s=this.getKeywordFromList(d,this.colorfulEggWords),s&&s.schemeUrl)return void this.isNeedRecordEggWord(s.schemeUrl,t,d);if(i=this.getKeywordFromList(d,this.hotKeywordList),i&&i.schemeUrl)return void this.isNeedRecordEggWord(i.schemeUrl,t,d);if(a=this.getDefaultword(d),a&&a.contentUrl)return void this.isNeedRecordEggWord(a.contentUrl,t,d);this.updateSuggestCookie("add",d),o=(new Date).getTime(),this.isNeedRecordEggWord(this.props.global.host+"/search?keyword="+encodeURIComponent(d)+"&timestamp="+o+"#page=1&sortType=0&descSorted=true&categoryId=0&matchType=0",t,d)}},handleMouseLeave:function(){setTimeout(function(){this.setState({isDisplaySuggest:!1})}.bind(this),100)},handleInputSuggestClick:function(e){this.selectHighLightItem(e)},handleInputSuggestChange:function(e){this.setState({highLightIndex:e})},handleDelete:function(e){this.updateSuggestCookie("delete",e),this.suggestRender("history&hot")},handleDeleteAll:function(){this.updateSuggestCookie("deleteAll"),this.suggestRender("history&hot")},handleGetInputFocus:function(){var e=this.$input.is(":focus");0==e&&this.$input.trigger("focus")},render:function(){return React.createElement("div",{onMouseLeave:this.handleMouseLeave,className:"yx-cp-m-search yx-cp-funcTabFixed-hide"},React.createElement("input",{type:"text",className:"yx-cp-searchInput",defaultValue:this.keyword,onKeyDown:this.handleKeydown,onFocus:this.handleJudgeSuggestRender,onBlur:this.handleBlur,onChange:this.handleJudgeSuggestRender,autoComplete:"off",maxLength:100,ref:"input",name:"searchInput"}),React.createElement("div",{onClick:this.handleGetInputFocus,className:"yx-cp-searchDefaultKeyword",style:{display:this.state.isDisplayDefault?"block":"none"}},this.props.global.searchDefaultWordVO&&this.props.global.searchDefaultWordVO.content),React.createElement("div",{className:"yx-cp-searchButton",onClick:this.handleSearch},React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-search"})),React.createElement(s,{isDisplaySuggest:this.state.isDisplaySuggest,renderType:this.state.renderType,highLightIndex:this.state.highLightIndex,historyKeywordList:this.historyKeywordList,hotKeywordList:this.hotKeywordList,autoCompleteList:this.autoCompleteList,onClick:this.handleInputSuggestClick,onChange:this.handleInputSuggestChange,onHandleDelete:this.handleDelete,onHandleDeleteAll:this.handleDeleteAll}))},selectHighLightItem:function(e){var t="",i="";"history&hot"==this.state.renderType?(t=this.historyKeywordList[e],i="history",t||(t=this.hotKeywordList[e-this.historyKeywordList.length].keyword,i="hot")):"autoComplete"==this.state.renderType&&(t=this.autoCompleteList[e],i="autoComplete"),this.handleSearch(t,i)},suggestRender:function(e){this.getHistoryKeywordList();var t=!0;("autoComplete"==e&&0==this.autoCompleteList.length||"history&hot"==e&&0==this.historyKeywordList.length&&0==this.hotKeywordList.length)&&(t=!1),this.setState({renderType:e,isDisplaySuggest:t,highLightIndex:-1})},showPaintedEggshell:function(e){n.setCookie("showPaintedEggshell",!1);for(var t=0;t<this.colorfulEggWords.length;t++)if(this.colorfulEggWords[t].keyword===e){n.setCookie("showPaintedEggshell",!0);break}},autoComplete:function(e){""!=e&&void 0!=e&&o.searchAutoComplete({keywordPrefix:e}).done(function(e){this.autoCompleteList=e.data||[],this.suggestRender("autoComplete")}.bind(this))},getHotKeywordList:function(){o.getHotKeyword().done(function(e){this.hotKeywordList=e.data}.bind(this))},getPaintedEggshell:function(){this.colorfulEggWords=[],o.getPaintedEggshellWords().done(function(e){this.colorfulEggWords=e.data}.bind(this))},getHistoryKeywordList:function(){this.historyKeywordList=JSON.parse(unescape(n.getCookie("_search_history")))||[]},getKeywordFromList:function(e,t){var i=null;return $.each(t,function(t,a){return a.keyword==e?(i=a,!1):void 0}.bind(this)),i},getDefaultword:function(e){var t=null;return $.each(this.props.global.defaultWordsVos||[],function(i,a){return a.content==e?(t=a,!1):void 0}.bind(this)),t},isNeedRecordEggWord:function(e,t,i){if(e){var n=a.extractUrl(e)[4];/^\/act/.test(n)||/^\/search/.test(n)?this.handleRecordEggWord(i).done(function(){this.addStatParams(e,t,i)}.bind(this)):this.addStatParams(e,t,i)}},addStatParams:function(e,t,i){var o={};e&&(window.YXStat&&window.YXStat.q&&window.YXStat.q.push(["add_event",{event_name:"search_searchkw_keywords",event_action:"search",page_name:"/",parameters:{type:"userhand"==t?1:"default_user"==t?3:"default_common"==t?4:"history"==t?5:"autoComplete"==t?7:"hot"==t?8:"",key:encodeURIComponent(i),url:e.indexOf("/search?keyword=")>0?"":e}}]),o=a.getUrlParams(e),e=a.appendURL(e,{_stat_search:t}),"index"===this.props.options.currentPage&&(e=a.appendURL(e,{_stat_referer:"index"})),void 0===o.keyword&&void 0!==i&&(e=a.appendURL(e,{keyword:encodeURIComponent(i)})),n.setCookie("yx-colorfulEggV2-url",e),top.location.href=e)},updateSuggestCookie:function(e,t){var i=JSON.parse(unescape(n.getCookie("_search_history")))||[];switch(e){case"add":if("string"==typeof t&&""!=$.trim(t)){for(var a=0;a<i.length;a++)i[a]==t&&i.splice(a,1);i.length>4&&i.splice(4,1),i.unshift(t)}break;case"delete":"number"==typeof t&&t>=0&&9>=t&&i.splice(t,1);break;case"deleteAll":i=[]}n.setCookie("_search_history",JSON.stringify(i),365)},historyKeywordList:[],hotKeywordList:[],autoCompleteList:[]});e.exports=r},function(e,t){var i=React.createClass({displayName:"InputSuggest",componentDidMount:function(){this.handleShowSuggest(this.props)},componentWillReceiveProps:function(e){this.handleShowSuggest(e)},handleShowSuggest:function(e){1==e.isDisplaySuggest&&($(this.refs.suggest).removeClass("yx-f-hide"),setTimeout(function(){$(this.refs.suggest).addClass("yx-cp-f-ani-suggest")}.bind(this),30)),0==e.isDisplaySuggest&&$(this.refs.suggest).removeClass("yx-cp-f-ani-suggest").addClass("yx-f-hide")},handleMouseOver:function(e){this.props.onChange(e)},handleMouseDown:function(e){this.props.onClick(e)},handleDelete:function(e,t){t.stopPropagation(),t.preventDefault(),this.props.onHandleDelete(e)},handleDeleteAll:function(e){e.stopPropagation(),e.preventDefault(),this.props.onHandleDeleteAll()},render:function(){var e="";return"autoComplete"==this.props.renderType?e=React.createElement("ul",{className:"yx-cp-m-suggestList"},this.props.autoCompleteList.length?this.props.autoCompleteList.map(function(e,t){return React.createElement("li",{className:"yx-cp-hl-item "+(this.props.highLightIndex==t?"yx-cp-hl-item-selected":""),onMouseDown:this.handleMouseDown.bind(null,t),onMouseOver:this.handleMouseOver.bind(null,t),key:"autoComplete"+t},React.createElement("span",{className:"yx-cp-hl-item-txt"},e))}.bind(this)):null):"history&hot"==this.props.renderType&&(e=React.createElement("ul",{className:"yx-cp-m-suggestList"},this.props.historyKeywordList.length?React.createElement("li",{className:"yx-cp-top-item"},React.createElement("span",null,"最近搜索"),React.createElement("span",{className:"yx-cp-icon-yxnormal icon-yxnormal-deleteAll",onMouseDown:this.handleDeleteAll})):null,this.props.historyKeywordList.length?this.props.historyKeywordList.map(function(e,t){return React.createElement("li",{className:"yx-cp-hl-item "+(this.props.highLightIndex==t?"yx-cp-hl-item-selected":""),onMouseDown:this.handleMouseDown.bind(null,t),onMouseOver:this.handleMouseOver.bind(null,t),key:"history"+t},React.createElement("span",{className:"yx-cp-hl-item-txt"},e),React.createElement("span",{className:"yx-cp-icon-yxclose icon-yxclose-close8",onMouseDown:this.handleDelete.bind(null,t)}))}.bind(this)):null,this.props.hotKeywordList.length?React.createElement("li",{className:"yx-cp-top-item",style:{marginTop:"5px"}},React.createElement("span",null,"大家都在搜")):null,this.props.hotKeywordList.length?this.props.hotKeywordList.map(function(e,t){var i=t+this.props.historyKeywordList.length;return React.createElement("li",{className:"yx-cp-hl-item yx-cp-hl-itemHot "+(1==e.highlight?"highlight ":"")+(this.props.highLightIndex==i?"yx-cp-hl-item-selected ":""),onMouseDown:this.handleMouseDown.bind(null,i),onMouseOver:this.handleMouseOver.bind(null,i),key:"hot"+t},React.createElement("span",{className:"yx-cp-hl-item-txt"},e.keyword))}.bind(this)):null)),React.createElement("div",{className:"yx-cp-m-suggest",ref:"suggest"},e)}});e.exports=i},function(e,t){},function(e,t,i){i(63);var a=React.createClass({displayName:"TabNav",getInitialState:function(){return{stateSubCateList:[]}},componentDidMount:function(){var e=this;e.resizeCatecard(),$(window).on("resize.yxcpcatecard",function(){e.resizeCatecard()})},componentDidUpdate:function(){this.resizeCatecard()},handleMouseEnter:function(e,t){if(e.subCateList&&0!==e.subCateList.length){if(void 0==this.state.stateSubCateList[t]){var i=e.subCateList.map(function(t){return"category"===e.cateType?{name:t.name,bannerUrl:t.bannerUrl,url:this.props.global.host+"/item/list?categoryId="+e.id+"&subCategoryId="+t.id}:{name:t.title,bannerUrl:t.scenePicUrl,url:t.linkUrl?t.linkUrl:this.props.global.host+"/topic/list?activeType="+t.type}}.bind(this));this.state.stateSubCateList[t]=i,this.setState({stateSubCateList:this.state.stateSubCateList})}$(this.refs["navDropdown"+t]).stop(!0,!0).fadeIn(200)}},handleMouseLeave:function(e,t,i){if(e.subCateList){var a=$(this.refs["navDropdown"+t]),n=$(i.relatedTarget);if(n.hasClass("yx-cp-tabNav-item")){var o=n.find(".yx-cp-tabNav-dropdown");a.stop(!0,!0).hide(),o.stop(!0,!0).show()}else a.stop(!0,!0).fadeOut(200)}},render:function(){this.generateCateList();var e=this.navCateList.length;return React.createElement("ul",{className:"yx-cp-m-tabNav"},this.navCateList.map(function(e,t){return this.getNavCate(e,t)}.bind(this)),React.createElement("li",{className:"yx-cp-tabNav-split yx-cp-funcTabFixed-hide"}),this.navCateExtList.map(function(t,i){return i+=e,this.getNavCate(t,i)}.bind(this)))},generateCateList:function(){this.navCateList=[],this.navCateExtList=[],this.navCateList.push({pageCode:"index",name:"首页",url:"/",clsName:"yx-cp-firstItem"}),this.props.global.cateList&&this.props.global.cateList.map(function(e){this.navCateList.push({pageCode:"cate"+e.id,name:e.name,url:"/item/list?categoryId="+e.id,subCateList:e.subCateList,cateType:"category",id:e.id})}.bind(this)),this.navCateExtList.push({pageCode:"topicIndex",name:"为你严选",url:"/topic/index",clsName:"yx-cp-funcTabFixed-hide",subCateList:this.props.global.topicList||[],cateType:"topicList"}),this.navCateExtList.push({pageCode:"expert",name:"甄选家",url:"/expert/index",clsName:"yx-cp-funcTabFixed-hide yx-cp-lastItem",subCateList:this.props.global.zxjCategory||[],cateType:"expert"})},resizeCatecard:function(){var e=$("body"),t=$(".j-yx-cp-dropdown-cateCard"),i=e.width();t.css({width:i,left:-i/2})},getNavCate:function(e,t){return React.createElement("li",{onMouseEnter:this.handleMouseEnter.bind(null,e,t),onMouseLeave:this.handleMouseLeave.bind(null,e,t),key:t,className:"yx-cp-tabNav-item "+(this.props.options.currentPage==e.pageCode?"yx-cp-active ":" ")+(e.clsName||"")},React.createElement("a",{className:"yx-cp-topLevel",href:this.getNavUrl(e.url,t),title:e.name},e.name),e.subCateList?this.getDropdown(t):null)},getDropdown:function(e){return React.createElement("div",{className:"yx-cp-tabNav-dropdown",ref:"navDropdown"+e},React.createElement("div",{className:"yx-cp-dropdown-cateCard j-yx-cp-dropdown-cateCard"},React.createElement("ul",{className:"yx-cp-dropdown-cateCardList"},this.state.stateSubCateList[e]&&this.state.stateSubCateList[e].map(function(e,t){return React.createElement("li",{className:"yx-cp-dropdown-item",key:t,style:{marginRight:t%7===6?"0":"102px"}},React.createElement("a",{className:"yx-cp-item-subCate",href:e.url,title:e.name},React.createElement("img",{className:"yx-cp-subCate-icon",src:e.bannerUrl,alt:e.name}),React.createElement("p",{className:"yx-cp-subCate-text"},e.name)))}))))},getNavUrl:function(e,t){var i="";return"index"==this.props.options.currentPage&&(i="?",e.indexOf("?")>-1&&(i="&"),i+="_stat_area=nav_"+(t+1)+"&_stat_referer=index"),(this.props.global.host||"")+e+i}});e.exports=a},function(e,t){},function(e,t,i){i(65);var a=i(21),n=i(66),o=React.createClass({displayName:"Cart",getInitialState:function(){return{isDisplayMiniCart:!1,cartNum:0,cartBadgeClass:"icon-yxtop-badge",miniCartData:null}},componentDidMount:function(){this.updateCartNum();var e=this.$cartNum=$(this.refs.cartNum),t=this.$minCart=$(this.refs.minCart);e.on("refreshCartNum",this.updateCartNum),e.on("addCartItem",function(){this.updateCartNum(),t.is(":animated")||this.getMiniCartData(this.miniCartAnimation),"/cart/itemPool"==window.location.pathname&&$(window).trigger("updateItemPoolTotalPrice")}.bind(this))},handleMouseEnter:function(){return this.isInCartPage()?!1:(this.getMiniCartData(),this.updateCartNum(),void this.setState({isDisplayMiniCart:!0}))},handleMouseLeave:function(){$(".j-yx-cp-cartInfo").scrollTop(0),this.setState({isDisplayMiniCart:!1})},handleMouseEnterMiniCart:function(){this.forbidBodyScroll(),this.$minCart.stop(!0,!0),clearTimeout(this.minCartTimer)},handleMouseLeaveMiniCart:function(){this.enableBodyScroll()},handleDeleteItem:function(e,t){t.stopPropagation(),this.miniCartInnerScrollTop=$(".j-yx-cp-cartInfo").scrollTop(),this.deleteCartItem(e)},handleDeleteSuit:function(e,t){t.stopPropagation(),this.miniCartInnerScrollTop=$(".j-yx-cp-cartInfo").scrollTop(),this.deleteCartSuitItem(e)},handleClick:function(){window.location.href="/cart"},renderMiniCart:function(e){var t=e.data;0==t.groupList.length&&0==t.invalidCartGroupList.length&&this.enableBodyScroll(),this.miniCartInnerScrollTop&&($(".j-yx-cp-cartInfo").scrollTop(this.miniCartInnerScrollTop),this.miniCartInnerScrollTop=0),this.setState({miniCartData:t})},render:function(){var e=this.state.miniCartData;return React.createElement("div",{className:"yx-cp-m-cartEnterWrap",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React.createElement("div",{className:"yx-cp-m-cartEnter",onClick:this.handleClick},React.createElement("i",{ref:"cartNum",className:"j-cart-num j-cart-num2 yx-cp-icon-yxtop "+this.state.cartBadgeClass},this.state.cartNum),React.createElement("i",{className:"yx-cp-icon-yxtop icon-yxtop-cart"})),React.createElement("div",{className:"yx-cp-m-miniCart",ref:"minCart",onMouseEnter:this.handleMouseEnterMiniCart,onMouseLeave:this.handleMouseLeaveMiniCart,style:{display:this.state.isDisplayMiniCart?"block":"none"}},e&&(e.groupList.length>0||e.invalidCartGroupList.length>0)?React.createElement("div",{className:"yx-cp-wrap"},React.createElement("i",{className:"yx-cp-tw-1"}),React.createElement("i",{className:"yx-cp-tw-2"}),React.createElement("div",{className:"yx-cp-cartInfo j-yx-cp-cartInfo"},e.groupList.length>0?this.getCartInfo(e.groupList,"groupList"):null,e.invalidCartGroupList.length>0?React.createElement("div",{className:"yx-cp-invalidTitle"
},"以下商品已失效"):null,e.invalidCartGroupList.length>0?this.getCartInfo(e.invalidCartGroupList,"invalidCartGroupList"):null),React.createElement("div",{className:"yx-cp-cartBottom"},React.createElement("div",{className:"yx-cp-totalPrice"},"商品合计: ",React.createElement("span",null,"¥",Number(e.totalPrice).toFixed(2))),React.createElement("div",{className:"yx-cp-goToCart"},React.createElement("a",{className:"yx-cp-btn yx-w-button yx-w-button-primary",href:this.props.global.host+"/cart"},"去购物车结算")))):null))},updateCartNum:function(){n.getMiniCartNum().done(function(e){e.data>99?this.setState({cartNum:"99+",cartBadgeClass:"icon-yxtop-badge-l"}):this.setState({cartNum:e.data,cartBadgeClass:"icon-yxtop-badge"})}.bind(this))},getMiniCartData:function(e){var t=n.getMiniCart();t.done(function(t){this.renderMiniCart(t),e&&setTimeout(function(){e()},10)}.bind(this))},miniCartAnimation:function(){this.$minCart.slideDown(500,function(){this.minCartTimer=setTimeout(function(){this.$minCart.stop(!0,!1).slideUp(300)}.bind(this),2e3)}.bind(this))},forbidBodyScroll:function(){var e=$("body").width();$("body").css("overflow","hidden");var t=$("body").width();$("body").css("marginRight",t-e),$(".yx-cp-m-funcTab-fixed").css("paddingRight",t-e),this.fixedToolRight=Number.parseInt($(".j-yx-cp-fixedtool").css("right")),$(".j-yx-cp-fixedtool").css("right",this.fixedToolRight+t-e)},enableBodyScroll:function(){$("body").css({overflow:"auto",marginRight:0}),$(".yx-cp-m-funcTab-fixed").css("paddingRight",0),$(".j-yx-cp-fixedtool").css("right",this.fixedToolRight)},getCartInfo:function(e,t){return React.createElement("div",{className:"yx-cp-cartInfo-inner"},e.map(function(e,i){var a="";if(a=e.cartItemList.map(function(e,i){var a="";null!=e.preSellStatus&&1==e.preSellStatus?0==e.preSellVolume&&(a=React.createElement("p",{className:"yx-cp-sellOut"},"已售罄")):(e.valid&&0==e.sellVolume&&(a=React.createElement("p",{className:"yx-cp-sellOut"},"已售罄")),("invalidCartGroupList"!==t||e.valid&&2==e.status)&&("groupList"!==t||e.valid)||(a=React.createElement("p",{className:"yx-cp-offShift"},"已下架")));var n="";return e.specList.map(function(e){n+=e.specValue+" "}),React.createElement("div",{key:i,className:"yx-cp-cartItem "+("invalidCartGroupList"===t?"yx-cp-invalid":"")},React.createElement("div",{className:"yx-cp-item yx-cp-item-left"},React.createElement("a",{href:this.props.global.host+"/item/detail?id="+e.itemId},React.createElement("img",{src:e.pic+"?quality=90&thumbnail=60x60&imageView"})),a),React.createElement("div",{className:"yx-cp-item yx-cp-item-middle"},React.createElement("p",null,React.createElement("a",{href:this.props.global.host+"/item/detail?id="+e.itemId,title:e.itemName},e.itemName)),React.createElement("p",null,React.createElement("span",{className:"yx-cp-specValue",title:n},n),React.createElement("span",{className:"yx-cp-count"},"x ",e.cnt))),React.createElement("div",{className:"yx-cp-item yx-cp-item-right"},React.createElement("p",{className:"yx-cp-price"},"¥",Number(e.actualPrice).toFixed(2)),React.createElement("p",{className:"yx-cp-deleteItem",onClick:this.handleDeleteItem.bind(null,e.skuId)},React.createElement("i",{className:"yx-cp-icon-yxclose icon-yxclose-close11"}))))}.bind(this)),e.promType&&105===e.promType){var n="yx-cp-suitCart ";return"invalidCartGroupList"===t?n+=" yx-cp-disValidSuit":"groupList"===t&&1===e.suitStatus&&(n+=" yx-cp-disValidSuit"),0===i&&(n+=" yx-cp-firstSuit"),React.createElement("div",{className:n,key:i},React.createElement("div",{className:"yx-cp-suitCartHd"},React.createElement("span",{className:"yx-cp-suitFlag"},"套装"),React.createElement("span",{className:"yx-cp-suitIntro"},React.createElement("span",{className:"yx-cp-suitName yx-f-text-overflow yx-f-word-break",title:e.suitName},e.suitName),React.createElement("span",{className:"yx-cp-suitCount"},"x",e.suitCount)),React.createElement("span",{className:"yx-cp-suitPrice"},"¥",e.suitTotalPrice.toFixed(2)),React.createElement("span",{className:"yx-cp-deleteSuit",onClick:this.handleDeleteSuit.bind(null,e.promId)},React.createElement("i",{className:"yx-cp-icon-yxclose icon-yxclose-close11"}))),a)}return a}.bind(this)))},deleteCartItem:function(e){var t=n.deleteCart({selectedSku:JSON.stringify({skuList:[{skuId:e,gift:!1,promId:0,type:0}]})});t.then(function(){this.getMiniCartData(),this.updateCartNum()}.bind(this),function(e,t){a.notify(t||"删除购物车失败","error"),this.getMiniCartData()}.bind(this))},deleteCartSuitItem:function(e){var t=n.deleteCart({selectedSku:JSON.stringify({skuList:[{promId:e,type:1}]})});t.then(function(){this.getMiniCartData(),this.updateCartNum()}.bind(this),function(e,t){a.notify(t||"删除购物车失败","error"),this.getMiniCartData()}.bind(this))},isInCartPage:function(){var e,t=window.location.pathname;return e=t.indexOf("/cart")>=0&&t.indexOf("/itemPool")<0}});e.exports=o},function(e,t){},function(e,t,i){var a=i(14),n=window.seckillUniqueFlag?"/xhr/seckill":"/xhr";e.exports=a("/xhr/cart",[{name:"add",ajaxConfig:{type:"GET"}},{name:"updateByNum",ajaxConfig:{type:"GET"}},{name:"updateByCheck",ajaxConfig:{type:"GET"}},{name:"selectAll",ajaxConfig:{type:"GET"}},{name:"choosePromotion",ajaxConfig:{type:"GET"}},{name:"updateSkuSpec",ajaxConfig:{type:"GET"}},{name:"delete",alias:"deleteCart"},"getCarts","getMiniCart",{name:"selectGift",ajaxConfig:{contentType:"application/json"}},{name:"selectAddBuy",ajaxConfig:{contentType:"application/json"}},{name:"getMiniCartNum",ajaxConfig:{type:"GET"},path:n+"/cart"},{name:"rcmd",alias:"getRcmdItems",ajaxConfig:{type:"GET"}},{name:"addSuit",ajaxConfig:{type:"GET"}},{name:"updateSuitCount",ajaxConfig:{type:"GET"}},{name:"updateSuitCheck",ajaxConfig:{type:"GET"}},{name:"clearInvalidItem",ajaxConfig:{type:"GET"}},{name:"rebuy",ajaxConfig:{type:"GET"}},{name:"collect",ajaxConfig:{contentType:"application/json"}}])},function(e,t){},function(e,t){}]);